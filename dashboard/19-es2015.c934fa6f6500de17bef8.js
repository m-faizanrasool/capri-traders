(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{OlR4:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var n=a("fXoL"),r=a("dNgK");let i=(()=>{class t{constructor(t){this.snackBar=t}openSnackBar(t,e=1e3,a="right",n="top"){this.snackBar.open(t,"",{duration:e,horizontalPosition:a,verticalPosition:n})}}return t.\u0275fac=function(e){return new(e||t)(n.ac(r.a))},t.\u0275prov=n.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},bLbe:function(t,e,a){"use strict";a.r(e),a.d(e,"BrandsModule",function(){return D});var n=a("ofXK"),r=a("M9IT"),i=a("+0xr"),c=a("0IaG"),d=a("fXoL"),o=a("3Pt+"),s=a("bTqV");let b=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.brand={name:"",id:""}}ngOnInit(){this.data&&this.data.brand?(this.brand=this.data.brand,this.title="Update brand",this.mode="Update"):(this.title="Add brand",this.mode="Add")}onSubmit(){this.dialogRef.close({brand:this.brand,isEdit:!1})}}return t.\u0275fac=function(e){return new(e||t)(d.Nb(c.f),d.Nb(c.a))},t.\u0275cmp=d.Hb({type:t,selectors:[["app-add"]],decls:15,vars:4,consts:[[3,"ngSubmit"],["f","ngForm"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"form-group"],["placeholder","Name","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],["type","button","mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["type","submit","color","primary","mat-raised-button","",1,"mr-2",3,"disabled"]],template:function(t,e){if(1&t&&(d.Tb(0,"form",0,1),d.dc("ngSubmit",function(){return e.onSubmit()}),d.Tb(2,"div",2),d.Tb(3,"div",3),d.Tb(4,"div",4),d.Kc(5),d.Sb(),d.Sb(),d.Tb(6,"div",5),d.Tb(7,"div",6),d.Tb(8,"input",7),d.dc("ngModelChange",function(t){return e.brand.name=t}),d.Sb(),d.Sb(),d.Sb(),d.Tb(9,"div",8),d.Tb(10,"button",9),d.Kc(11," Cancel"),d.Sb(),d.Kc(12,"\xa0 "),d.Tb(13,"button",10),d.Kc(14),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&t){const t=d.wc(1);d.Ab(5),d.Lc(e.title),d.Ab(3),d.nc("ngModel",e.brand.name),d.Ab(5),d.nc("disabled",t.invalid),d.Ab(1),d.Mc(" ",e.mode," ")}},directives:[o.y,o.o,o.p,o.c,o.u,o.n,o.q,s.b,c.d],styles:[".card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();var l=a("zyfY"),m=a("AytR"),u=a("tk/3");let p=(()=>{class t{constructor(t){this.httpClient=t}getBrands(){return this.httpClient.get(m.a.apiUrl+"brands")}addBrand(t){return this.httpClient.post(m.a.apiUrl+"brands",t)}updateBrand(t){return this.httpClient.patch(m.a.apiUrl+"brands/"+t.id,t)}deleteBrand(t){return this.httpClient.delete(m.a.apiUrl+"brands/"+t)}}return t.\u0275fac=function(e){return new(e||t)(d.ac(u.c))},t.\u0275prov=d.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=a("OlR4"),f=a("NFeN"),S=a("Xa2L");function g(t,e){1&t&&(d.Tb(0,"mat-header-cell"),d.Kc(1," Name "),d.Sb())}function v(t,e){if(1&t&&(d.Tb(0,"mat-cell"),d.Kc(1),d.Sb()),2&t){const t=e.$implicit;d.Ab(1),d.Mc(" ",t.name," ")}}function w(t,e){1&t&&(d.Tb(0,"mat-header-cell"),d.Kc(1," Actions "),d.Sb())}function T(t,e){if(1&t){const t=d.Ub();d.Tb(0,"mat-cell"),d.Tb(1,"button",19),d.dc("click",function(){d.Ac(t);const a=e.$implicit;return d.hc().editBrand(a)}),d.Tb(2,"mat-icon"),d.Kc(3,"create"),d.Sb(),d.Sb(),d.Kc(4,"\xa0 "),d.Tb(5,"button",20),d.dc("click",function(){d.Ac(t);const a=e.$implicit,n=e.index;return d.hc().deleteBrand(a.id,n)}),d.Tb(6,"mat-icon"),d.Kc(7,"delete"),d.Sb(),d.Sb(),d.Sb()}}function B(t,e){1&t&&d.Ob(0,"mat-header-row")}function C(t,e){1&t&&d.Ob(0,"mat-row")}function y(t,e){1&t&&(d.Tb(0,"div",21),d.Kc(1," No records found "),d.Sb())}function k(t,e){1&t&&(d.Tb(0,"div",21),d.Kc(1,"Please wait...."),d.Sb())}function I(t,e){1&t&&d.Ob(0,"mat-spinner",22),2&t&&d.nc("diameter",20)}const A=function(){return[5,10,20]};let K=(()=>{class t{constructor(t,e,a,n){this.brandsService=t,this.commonService=e,this.cdr=a,this.dialog=n,this.displayedColumns=["name","actions"],this.brands=[],this.loaded=!1}ngOnInit(){this.brandsService.getBrands().subscribe(t=>{this.brands=t.brands,this.renderBrands(),this.loaded=!0,this.cdr.detectChanges()})}addBrand(){this.dialog.open(b,{width:"440px",disableClose:!0}).afterClosed().subscribe(t=>{t&&this.brandsService.addBrand(t.brand).subscribe(t=>{this.brands.push(t.brand),this.commonService.openSnackBar(t.message),this.renderBrands()},({error:t})=>{this.commonService.openSnackBar(t.errors.name[0],4e3)})})}renderBrands(){this.dataSource=new i.k(this.brands),this.dataSource.paginator=this.paginator}editBrand(t){this.dialog.open(b,{data:{brand:t},width:"440px",disableClose:!0}).afterClosed().subscribe(e=>{e&&this.brandsService.updateBrand(e.brand).subscribe(a=>{t=e.brand,this.commonService.openSnackBar(a.message),this.cdr.detectChanges()},({error:t})=>{this.commonService.openSnackBar(t.errors.name[0],4e3)})})}deleteBrand(t,e){this.dialog.open(l.a,{data:{title:"Delete brand",message:"Are you sure?"},width:"440px",disableClose:!0}).afterClosed().subscribe(a=>{a&&a.confirm&&this.brandsService.deleteBrand(t).subscribe(t=>{this.brands.splice(e,1),this.renderBrands(),this.commonService.openSnackBar(t.message)},({error:t})=>{this.commonService.openSnackBar(t.message,4e3)})})}}return t.\u0275fac=function(e){return new(e||t)(d.Nb(p),d.Nb(h.a),d.Nb(d.h),d.Nb(c.c))},t.\u0275cmp=d.Hb({type:t,selectors:[["app-brands"]],viewQuery:function(t,e){if(1&t&&d.Ec(r.a,!0),2&t){let t;d.vc(t=d.ec())&&(e.paginator=t.first)}},decls:25,vars:10,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"mat-table-wrapper"],[3,"dataSource"],["table",""],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","mat-table-message",4,"ngIf"],[1,"mat-table-bottom"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["mat-icon-button","","color","primary","matTooltip","Edit user",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete user","type","button",3,"click"],[1,"mat-table-message"],[3,"diameter"]],template:function(t,e){1&t&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Tb(2,"div",2),d.Tb(3,"h3"),d.Kc(4,"Brands"),d.Sb(),d.Sb(),d.Tb(5,"div",3),d.Tb(6,"button",4),d.dc("click",function(){return e.addBrand()}),d.Kc(7,"Add Brands"),d.Sb(),d.Sb(),d.Sb(),d.Tb(8,"div",5),d.Tb(9,"div",6),d.Tb(10,"mat-table",7,8),d.Rb(12,9),d.Ic(13,g,2,0,"mat-header-cell",10),d.Ic(14,v,2,1,"mat-cell",11),d.Qb(),d.Rb(15,12),d.Ic(16,w,2,0,"mat-header-cell",10),d.Ic(17,T,8,0,"mat-cell",11),d.Qb(),d.Ic(18,B,1,0,"mat-header-row",13),d.Ic(19,C,1,0,"mat-row",14),d.Sb(),d.Ic(20,y,2,0,"div",15),d.Ic(21,k,2,0,"div",15),d.Sb(),d.Tb(22,"div",16),d.Ic(23,I,1,1,"mat-spinner",17),d.Ob(24,"mat-paginator",18),d.Sb(),d.Sb(),d.Sb()),2&t&&(d.Ab(10),d.nc("dataSource",e.dataSource),d.Ab(8),d.nc("matHeaderRowDef",e.displayedColumns),d.Ab(1),d.nc("matRowDefColumns",e.displayedColumns),d.Ab(1),d.nc("ngIf",e.loaded&&0==e.brands.length),d.Ab(1),d.nc("ngIf",!e.loaded),d.Ab(2),d.nc("ngIf",!e.loaded),d.Ab(1),d.nc("pageSize",10)("pageSizeOptions",d.qc(9,A))("showFirstLastButtons",!0))},directives:[i.j,i.c,i.e,i.b,i.g,i.i,n.n,r.a,i.d,i.a,s.b,f.a,i.f,i.h,S.b],styles:[".mat-table-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{min-width:800px;width:100%}"]}),t})();var N=a("tyNb"),O=a("kmnG"),R=a("93Pz");let D=(()=>{class t{}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(e){return new(e||t)},imports:[[n.c,R.a,s.c,i.l,r.b,f.b,S.a,o.j,O.e,c.e,N.k.forChild([{path:"",component:K}])]]}),t})()}}]);