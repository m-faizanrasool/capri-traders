{"version":3,"sources":["webpack:///src/app/pages/products/products.module.ts","webpack:///src/app/pages/products/products.component.ts","webpack:///src/app/pages/products/products.component.html","webpack:///src/app/pages/products/list/list.component.ts","webpack:///src/app/pages/products/list/list.component.html"],"names":["ProductsModule","provide","useValue","hasBackdrop","panelClass","height","width","forChild","path","component","children","redirectTo","pathMatch","declarations","imports","providers","entryComponents","ProductsComponent","selector","templateUrl","styleUrls","ListComponent","productsService","commonService","cdr","dialog","loaded","subscriptions","search","pageIndex","pageSize","products","displayedColumns","getCreateProductParams","subscribe","response","productData","valueChanges","paginator","filterSubscription","page","pipe","prepareQueryParams","bind","handleResponse","searchSubscription","push","queryParams","page_index","value","items_per_page","getProducts","totalProducts","total","detectChanges","dialogRef","open","data","paramsData","disableClose","afterClosed","res","Product","product","disabled","is_visible","toggle_visibility","id","index","title","message","confirm","deleteProduct","splice","openSnackBar","error","forEach","sub","unsubscribe","addProduct"],"mappings":"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","file":"products-products-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ListComponent } from './list/list.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ProductsComponent } from './products.component';\r\n\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { GeneralModule } from 'src/app/_metronic/partials/content/general/general.module';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { AddProductDialogComponent } from './list/add-product-dialog/add-product-dialog.component';\r\nimport {\r\n\tMatDialogModule,\r\n\tMAT_DIALOG_DEFAULT_OPTIONS,\r\n} from '@angular/material/dialog';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\nimport { ConfirmationDialogComponent } from '../_sharedComponents/confirmation-dialog/confirmation-dialog.component';\r\n\r\n@NgModule({\r\n\tdeclarations: [ListComponent, ProductsComponent, AddProductDialogComponent],\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tMatButtonModule,\r\n\t\tMatTableModule,\r\n\t\tMatPaginatorModule,\r\n\t\tMatProgressSpinnerModule,\r\n\t\tMatIconModule,\r\n\t\tGeneralModule,\r\n\t\tMatDialogModule,\r\n\t\tFormsModule,\r\n\t\tReactiveFormsModule,\r\n\t\tMatButtonModule,\r\n\t\tMatSelectModule,\r\n\t\tMatInputModule,\r\n\t\tNgSelectModule,\r\n\t\tImageCropperModule,\r\n\t\tRouterModule.forChild([\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tcomponent: ProductsComponent,\r\n\t\t\t\tchildren: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: '',\r\n\t\t\t\t\t\tredirectTo: 'list',\r\n\t\t\t\t\t\tpathMatch: 'full',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: 'list',\r\n\t\t\t\t\t\tcomponent: ListComponent,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t]),\r\n\t],\r\n\tproviders: [\r\n\t\t{\r\n\t\t\tprovide: MAT_DIALOG_DEFAULT_OPTIONS,\r\n\t\t\tuseValue: {\r\n\t\t\t\thasBackdrop: true,\r\n\t\t\t\tpanelClass: 'mat-dialog-container-wrapper',\r\n\t\t\t\theight: 'auto',\r\n\t\t\t\twidth: '900px',\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tentryComponents: [AddProductDialogComponent, ConfirmationDialogComponent],\r\n})\r\nexport class ProductsModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-products',\r\n  templateUrl: './products.component.html',\r\n  styleUrls: ['./products.component.scss']\r\n})\r\nexport class ProductsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<router-outlet></router-outlet>\r\n","import {\r\n\tAfterViewInit,\r\n\tChangeDetectorRef,\r\n\tComponent,\r\n\tOnDestroy,\r\n\tOnInit,\r\n\tViewChild,\r\n} from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { debounceTime, finalize, startWith, switchMap } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { CommonService } from 'src/app/services/common.service';\r\nimport {\r\n\tProductQuery,\r\n\tProductsService,\r\n} from 'src/app/services/products.service';\r\nimport { ConfirmationDialogComponent } from '../../_sharedComponents/confirmation-dialog/confirmation-dialog.component';\r\nimport { AddProductDialogComponent } from './add-product-dialog/add-product-dialog.component';\r\n\r\n@Component({\r\n\tselector: 'app-list',\r\n\ttemplateUrl: './list.component.html',\r\n\tstyleUrls: ['./list.component.scss'],\r\n})\r\nexport class ListComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\t@ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n\r\n\tloaded = false;\r\n\tsubscriptions: Subscription[] = [];\r\n\tsearch = new FormControl('');\r\n\tpageIndex = 0;\r\n\tpageSize = 20;\r\n\tproducts: any[] = [];\r\n\ttotalProducts: number;\r\n\tproductData: any;\r\n\tqueryParams: ProductQuery;\r\n\r\n\tdisplayedColumns = [\r\n\t\t'name',\r\n\t\t'brand',\r\n\t\t'quantity',\r\n\t\t'purchase_price',\r\n\t\t'sale_price',\r\n\t\t'discount',\r\n\t\t'description',\r\n\t\t'image',\r\n\t\t'actions',\r\n\t];\r\n\r\n\tconstructor(\r\n\t\tprivate productsService: ProductsService,\r\n\t\tprivate commonService: CommonService,\r\n\t\tprivate cdr: ChangeDetectorRef,\r\n\t\tpublic dialog: MatDialog\r\n\t) {}\r\n\r\n\tngOnInit() {\r\n\t\tthis.productsService.getCreateProductParams().subscribe((response) => {\r\n\t\t\tthis.productData = response;\r\n\t\t});\r\n\t}\r\n\r\n\tngAfterViewInit() {\r\n\t\tthis.search.valueChanges.subscribe(() => {\r\n\t\t\tthis.paginator.pageIndex = 0;\r\n\t\t});\r\n\r\n\t\tconst filterSubscription = this.paginator.page\r\n\t\t\t.pipe(startWith({}), switchMap(this.prepareQueryParams.bind(this)))\r\n\t\t\t.subscribe(this.handleResponse.bind(this));\r\n\r\n\t\tconst searchSubscription = this.search.valueChanges\r\n\t\t\t.pipe(debounceTime(1000), switchMap(this.prepareQueryParams.bind(this)))\r\n\t\t\t.subscribe(this.handleResponse.bind(this));\r\n\r\n\t\tthis.subscriptions.push(filterSubscription, searchSubscription);\r\n\t}\r\n\r\n\tprepareQueryParams() {\r\n\t\tthis.loaded = false;\r\n\r\n\t\tthis.queryParams = {\r\n\t\t\tpage_index: this.paginator.pageIndex,\r\n\t\t\tsearch: this.search.value,\r\n\t\t\titems_per_page: this.pageSize,\r\n\t\t};\r\n\r\n\t\treturn this.productsService.getProducts(this.queryParams);\r\n\t}\r\n\r\n\thandleResponse(response: any) {\r\n\t\tthis.totalProducts = response.total;\r\n\t\tthis.products = response.products;\r\n\t\tthis.loaded = true;\r\n\t\tthis.cdr.detectChanges();\r\n\t}\r\n\r\n\taddProduct() {\r\n\t\tconst dialogRef = this.dialog.open(AddProductDialogComponent, {\r\n\t\t\tdata: { paramsData: this.productData },\r\n\t\t\tdisableClose: true,\r\n\t\t});\r\n\r\n\t\tdialogRef.afterClosed().subscribe((res) => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.productsService\r\n\t\t\t\t.getProducts(this.queryParams)\r\n\t\t\t\t.subscribe(this.handleResponse.bind(this));\r\n\t\t});\r\n\t}\r\n\r\n\teditProduct(Product) {\r\n\t\tconst dialogRef = this.dialog.open(AddProductDialogComponent, {\r\n\t\t\tdata: { paramsData: this.productData, product: Product },\r\n\t\t\tdisableClose: true,\r\n\t\t});\r\n\r\n\t\tdialogRef.afterClosed().subscribe((res) => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.productsService\r\n\t\t\t\t.getProducts(this.queryParams)\r\n\t\t\t\t.subscribe(this.handleResponse.bind(this));\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleVisiblity(product) {\r\n\t\tproduct.disabled = true;\r\n\t\tproduct.is_visible = !product.is_visible;\r\n\t\tthis.productsService\r\n\t\t\t.toggle_visibility(product.id)\r\n\t\t\t.pipe(\r\n\t\t\t\tfinalize(() => {\r\n\t\t\t\t\tproduct.disabled = false;\r\n\t\t\t\t\tthis.cdr.detectChanges();\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\t}\r\n\r\n\tdeleteProduct(id, index) {\r\n\t\tconst dialogRef = this.dialog.open(ConfirmationDialogComponent, {\r\n\t\t\tdata: { title: 'Delete category', message: 'Are you sure?' },\r\n\t\t\twidth: '440px',\r\n\t\t\tdisableClose: true,\r\n\t\t});\r\n\r\n\t\tdialogRef.afterClosed().subscribe((res) => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (res.confirm) {\r\n\t\t\t\tthis.productsService.deleteProduct(id).subscribe(\r\n\t\t\t\t\t(response: any) => {\r\n\t\t\t\t\t\tconst products = [...this.products];\r\n\t\t\t\t\t\tproducts.splice(index, 1);\r\n\t\t\t\t\t\tthis.products = products;\r\n\t\t\t\t\t\tthis.cdr.detectChanges();\r\n\t\t\t\t\t\tthis.commonService.openSnackBar(response.message);\r\n\t\t\t\t\t},\r\n\t\t\t\t\t({ error }) => {\r\n\t\t\t\t\t\tthis.commonService.openSnackBar(error.message, 4000);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tngOnDestroy(): void {\r\n\t\tthis.subscriptions.forEach((sub) => sub.unsubscribe());\r\n\t}\r\n}\r\n","<div class=\"card card-custom\">\r\n\t<div class=\"card-header\">\r\n\t\t<div class=\"card-title\">\r\n\t\t\t<h3>Products</h3>\r\n\t\t</div>\r\n\t\t<div class=\"card-toolbar\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\"btn btn-primary\"\r\n\t\t\t\t(click)=\"addProduct()\"\r\n\t\t\t\t[disabled]=\"!loaded\"\r\n\t\t\t>\r\n\t\t\t\tAdd Product\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"card-body\">\r\n\t\t<!-- start::FILTERS & GROUP ACTIONS -->\r\n\t\t<div class=\"form mb-3\">\r\n\t\t\t<!-- start::FILTERS -->\r\n\t\t\t<div class=\"form-filtration\">\r\n\t\t\t\t<div class=\"row align-items-center\">\r\n\t\t\t\t\t<div class=\"col-lg-3 kt-margin-bottom-10-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\t\tplaceholder=\"Search Products\"\r\n\t\t\t\t\t\t\t\t[formControl]=\"search\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- end::FILTERS & GROUP ACTIONS -->\r\n\t\t<div class=\"mat-table-wrapper\">\r\n\t\t\t<mat-table #table [dataSource]=\"products\">\r\n\t\t\t\t<!--- Note that these columns can be defined in any order.\r\n\t\t\t\tThe actual rendered columns are set as a property on the row definition\" -->\r\n\t\t\t\t<!-- Name Column -->\r\n\t\t\t\t<ng-container matColumnDef=\"name\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Name </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let element\"> {{ element.name }} </mat-cell>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-container matColumnDef=\"brand\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Brand </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t{{ element.brand ? element.brand.name : '' }}\r\n\t\t\t\t\t</mat-cell>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-container matColumnDef=\"quantity\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Quantity </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t{{ element.unit_quantity }} {{ element.unit.abbr }}\r\n\t\t\t\t\t</mat-cell>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-container matColumnDef=\"purchase_price\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Purchase Price </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t{{ element.purchase_price }}\r\n\t\t\t\t\t</mat-cell>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-container matColumnDef=\"sale_price\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Sale Price </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t{{ element.sale_price }}\r\n\t\t\t\t\t</mat-cell>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-container matColumnDef=\"discount\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Discount </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t{{ element.discount }}\r\n\t\t\t\t\t</mat-cell>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-container matColumnDef=\"description\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Description </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t{{ element.description }}\r\n\t\t\t\t\t</mat-cell>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-container matColumnDef=\"image\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Image </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t<img [src]=\"element.image_url\" class=\"img-fluid w-75\" />\r\n\t\t\t\t\t</mat-cell>\r\n\t\t\t\t</ng-container>\r\n\t\t\t\t<!-- Actions Column -->\r\n\t\t\t\t<ng-container matColumnDef=\"actions\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let product; let index = index\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tmat-icon-button\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t(click)=\"editProduct(product)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<mat-icon>create</mat-icon></button\r\n\t\t\t\t\t\t>&nbsp;\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tmat-icon-button\r\n\t\t\t\t\t\t\tcolor=\"warn\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t(click)=\"deleteProduct(product.id, index)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<mat-icon>delete</mat-icon>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tmat-icon-button\r\n\t\t\t\t\t\t\t[color]=\"product.is_visible ? 'primary' : 'light'\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t(click)=\"toggleVisiblity(product)\"\r\n\t\t\t\t\t\t\t[disabled]=\"product.disabled\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<mat-icon *ngIf=\"product.is_visible\">visibility</mat-icon>\r\n\t\t\t\t\t\t\t<mat-icon *ngIf=\"!product.is_visible\">visibility_off</mat-icon>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</mat-cell>\r\n\t\t\t\t</ng-container>\r\n\t\t\t\t<!-- Symbol Column -->\r\n\t\t\t\t<mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n\t\t\t\t<mat-row *matRowDef=\"let row; columns: displayedColumns\"></mat-row>\r\n\t\t\t</mat-table>\r\n\r\n\t\t\t<!-- Message for empty data  -->\r\n\t\t\t<div class=\"mat-table-message\" *ngIf=\"loaded && products.length == 0\">\r\n\t\t\t\tNo records found\r\n\t\t\t</div>\r\n\t\t\t<div class=\"mat-table-message\" *ngIf=\"!loaded && !products.length\">\r\n\t\t\t\tPlease wait....\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- start: BOTTOM -->\r\n\t\t<div class=\"mat-table-bottom\">\r\n\t\t\t<!-- MATERIAL SPINNER | Url: 'https://material.angular.io/components/progress-spinner/overview' -->\r\n\t\t\t<mat-spinner [diameter]=\"20\" *ngIf=\"!loaded\"></mat-spinner>\r\n\t\t\t<!-- MATERIAL PAGINATOR | Binded to dasources -->\r\n\t\t\t<!-- See off.documentations 'https://material.angular.io/components/paginator/overview' -->\r\n\t\t\t<mat-paginator\r\n\t\t\t\t[pageSize]=\"pageSize\"\r\n\t\t\t\t[showFirstLastButtons]=\"true\"\r\n\t\t\t\t[length]=\"totalProducts\"\r\n\t\t\t></mat-paginator>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n"]}