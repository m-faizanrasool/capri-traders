(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{bLbe:function(t,e,a){"use strict";a.r(e),a.d(e,"BrandsModule",function(){return I});var n=a("ofXK"),r=a("M9IT"),i=a("+0xr"),d=a("0IaG"),c=a("fXoL"),o=a("3Pt+"),s=a("bTqV");let b=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.brand={name:"",id:""}}ngOnInit(){this.data&&this.data.brand?(this.brand=this.data.brand,this.title="Update brand",this.mode="Update"):(this.title="Add brand",this.mode="Add")}onSubmit(){this.dialogRef.close({brand:this.brand,isEdit:!1})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(d.f),c.Nb(d.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-add"]],decls:15,vars:4,consts:[[3,"ngSubmit"],["f","ngForm"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"form-group"],["placeholder","Name","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],["type","button","mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["type","submit","color","primary","mat-raised-button","",1,"mr-2",3,"disabled"]],template:function(t,e){if(1&t&&(c.Tb(0,"form",0,1),c.dc("ngSubmit",function(){return e.onSubmit()}),c.Tb(2,"div",2),c.Tb(3,"div",3),c.Tb(4,"div",4),c.Lc(5),c.Sb(),c.Sb(),c.Tb(6,"div",5),c.Tb(7,"div",6),c.Tb(8,"input",7),c.dc("ngModelChange",function(t){return e.brand.name=t}),c.Sb(),c.Sb(),c.Sb(),c.Tb(9,"div",8),c.Tb(10,"button",9),c.Lc(11," Cancel"),c.Sb(),c.Lc(12,"\xa0 "),c.Tb(13,"button",10),c.Lc(14),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&t){const t=c.xc(1);c.Ab(5),c.Mc(e.title),c.Ab(3),c.oc("ngModel",e.brand.name),c.Ab(5),c.oc("disabled",t.invalid),c.Ab(1),c.Nc(" ",e.mode," ")}},directives:[o.y,o.o,o.p,o.c,o.u,o.n,o.q,s.b,d.d],styles:[".card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();var l=a("zyfY"),m=a("AytR"),u=a("tk/3");let p=(()=>{class t{constructor(t){this.httpClient=t}getBrands(){return this.httpClient.get(m.a.apiUrl+"brands")}addBrand(t){return this.httpClient.post(m.a.apiUrl+"brands",t)}updateBrand(t){return this.httpClient.patch(m.a.apiUrl+"brands/"+t.id,t)}deleteBrand(t){return this.httpClient.delete(m.a.apiUrl+"brands/"+t)}}return t.\u0275fac=function(e){return new(e||t)(c.ac(u.c))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=a("OlR4"),f=a("NFeN"),S=a("Xa2L");function g(t,e){1&t&&(c.Tb(0,"mat-header-cell"),c.Lc(1," Name "),c.Sb())}function v(t,e){if(1&t&&(c.Tb(0,"mat-cell"),c.Lc(1),c.Sb()),2&t){const t=e.$implicit;c.Ab(1),c.Nc(" ",t.name," ")}}function w(t,e){1&t&&(c.Tb(0,"mat-header-cell"),c.Lc(1," Actions "),c.Sb())}function T(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-cell"),c.Tb(1,"button",19),c.dc("click",function(){c.Bc(t);const a=e.$implicit;return c.hc().editBrand(a)}),c.Tb(2,"mat-icon"),c.Lc(3,"create"),c.Sb(),c.Sb(),c.Lc(4,"\xa0 "),c.Tb(5,"button",20),c.dc("click",function(){c.Bc(t);const a=e.$implicit,n=e.index;return c.hc().deleteBrand(a.id,n)}),c.Tb(6,"mat-icon"),c.Lc(7,"delete"),c.Sb(),c.Sb(),c.Sb()}}function B(t,e){1&t&&c.Ob(0,"mat-header-row")}function C(t,e){1&t&&c.Ob(0,"mat-row")}function y(t,e){1&t&&(c.Tb(0,"div",21),c.Lc(1," No records found "),c.Sb())}function k(t,e){1&t&&(c.Tb(0,"div",21),c.Lc(1,"Please wait...."),c.Sb())}function L(t,e){1&t&&c.Ob(0,"mat-spinner",22),2&t&&c.oc("diameter",20)}const A=function(){return[5,10,20]};let N=(()=>{class t{constructor(t,e,a,n){this.brandsService=t,this.commonService=e,this.cdr=a,this.dialog=n,this.displayedColumns=["name","actions"],this.brands=[],this.loaded=!1}ngOnInit(){this.brandsService.getBrands().subscribe(t=>{this.brands=t.brands,this.renderBrands(),this.loaded=!0,this.cdr.detectChanges()})}addBrand(){this.dialog.open(b,{width:"440px",disableClose:!0}).afterClosed().subscribe(t=>{t&&this.brandsService.addBrand(t.brand).subscribe(t=>{this.brands.push(t.brand),this.commonService.openSnackBar(t.message),this.renderBrands()},({error:t})=>{this.commonService.openSnackBar(t.errors.name[0],4e3)})})}renderBrands(){this.dataSource=new i.k(this.brands),this.dataSource.paginator=this.paginator}editBrand(t){this.dialog.open(b,{data:{brand:t},width:"440px",disableClose:!0}).afterClosed().subscribe(e=>{e&&this.brandsService.updateBrand(e.brand).subscribe(a=>{t=e.brand,this.commonService.openSnackBar(a.message)},({error:t})=>{this.commonService.openSnackBar(t.errors.name[0],4e3)})})}deleteBrand(t,e){this.dialog.open(l.a,{data:{title:"Delete brand",message:"Are you sure?"},width:"440px",disableClose:!0}).afterClosed().subscribe(a=>{a&&a.confirm&&this.brandsService.deleteBrand(t).subscribe(t=>{this.brands.splice(e,1),this.renderBrands(),this.commonService.openSnackBar(t.message)},({error:t})=>{this.commonService.openSnackBar(t.message,4e3)})})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(p),c.Nb(h.a),c.Nb(c.h),c.Nb(d.c))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-brands"]],viewQuery:function(t,e){if(1&t&&c.Fc(r.a,!0),2&t){let t;c.wc(t=c.ec())&&(e.paginator=t.first)}},decls:25,vars:10,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"mat-table-wrapper"],[3,"dataSource"],["table",""],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","mat-table-message",4,"ngIf"],[1,"mat-table-bottom"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["mat-icon-button","","color","primary","matTooltip","Edit user",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete user","type","button",3,"click"],[1,"mat-table-message"],[3,"diameter"]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Tb(3,"h3"),c.Lc(4,"Brands"),c.Sb(),c.Sb(),c.Tb(5,"div",3),c.Tb(6,"button",4),c.dc("click",function(){return e.addBrand()}),c.Lc(7,"Add Brands"),c.Sb(),c.Sb(),c.Sb(),c.Tb(8,"div",5),c.Tb(9,"div",6),c.Tb(10,"mat-table",7,8),c.Rb(12,9),c.Jc(13,g,2,0,"mat-header-cell",10),c.Jc(14,v,2,1,"mat-cell",11),c.Qb(),c.Rb(15,12),c.Jc(16,w,2,0,"mat-header-cell",10),c.Jc(17,T,8,0,"mat-cell",11),c.Qb(),c.Jc(18,B,1,0,"mat-header-row",13),c.Jc(19,C,1,0,"mat-row",14),c.Sb(),c.Jc(20,y,2,0,"div",15),c.Jc(21,k,2,0,"div",15),c.Sb(),c.Tb(22,"div",16),c.Jc(23,L,1,1,"mat-spinner",17),c.Ob(24,"mat-paginator",18),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Ab(10),c.oc("dataSource",e.dataSource),c.Ab(8),c.oc("matHeaderRowDef",e.displayedColumns),c.Ab(1),c.oc("matRowDefColumns",e.displayedColumns),c.Ab(1),c.oc("ngIf",e.loaded&&0==e.brands.length),c.Ab(1),c.oc("ngIf",!e.loaded),c.Ab(2),c.oc("ngIf",!e.loaded),c.Ab(1),c.oc("pageSize",10)("pageSizeOptions",c.rc(9,A))("showFirstLastButtons",!0))},directives:[i.j,i.c,i.e,i.b,i.g,i.i,n.n,r.a,i.d,i.a,s.b,f.a,i.f,i.h,S.b],styles:[".mat-table-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{min-width:800px;width:100%}"]}),t})();var J=a("tyNb"),O=a("kmnG"),D=a("93Pz");let I=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[n.c,D.a,s.c,i.l,r.b,f.b,S.a,o.j,O.e,d.e,J.k.forChild([{path:"",component:N}])]]}),t})()}}]);