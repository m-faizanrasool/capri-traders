(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{OlR4:function(e,a,t){"use strict";t.d(a,"a",function(){return c});var n=t("fXoL"),o=t("dNgK");let c=(()=>{class e{constructor(e){this.snackBar=e}openSnackBar(e,a=1e3,t="right",n="top"){this.snackBar.open(e,"",{duration:a,horizontalPosition:t,verticalPosition:n})}}return e.\u0275fac=function(a){return new(a||e)(n.ac(o.a))},e.\u0275prov=n.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},j8vG:function(e,a,t){"use strict";t.d(a,"a",function(){return i});var n=t("AytR"),o=t("fXoL"),c=t("tk/3");let i=(()=>{class e{constructor(e){this.httpClient=e}getAllCompanyHeads(){return this.httpClient.get(n.a.apiUrl+"company-heads")}addCompanyHead(e){return this.httpClient.post(n.a.apiUrl+"company-heads",e)}updateCompanyHead(e){return this.httpClient.patch(n.a.apiUrl+"company-heads/"+e.id,e)}deleteCompanyHead(e){return this.httpClient.delete(n.a.apiUrl+"company-heads/"+e)}}return e.\u0275fac=function(a){return new(a||e)(o.ac(c.c))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},kOLR:function(e,a,t){"use strict";t.r(a),t.d(a,"CompanyHeadsModule",function(){return O});var n=t("ofXK"),o=t("M9IT"),c=t("+0xr"),i=t("zyfY"),d=t("0IaG"),r=t("fXoL"),s=t("3Pt+"),m=t("bTqV");let b=(()=>{class e{constructor(e,a){this.dialogRef=e,this.data=a,this.company_head={name:"",id:""}}ngOnInit(){this.data&&this.data.company_head?(this.company_head=this.data.company_head,this.title="Update company_head",this.mode="Update"):(this.title="Add company_head",this.mode="Add")}onSubmit(){this.dialogRef.close({company_head:this.company_head,isEdit:!1})}}return e.\u0275fac=function(a){return new(a||e)(r.Nb(d.f),r.Nb(d.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-add"]],decls:15,vars:4,consts:[[3,"ngSubmit"],["f","ngForm"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"form-group"],["placeholder","Name","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],["type","button","mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["type","submit","color","primary","mat-raised-button","",1,"mr-2",3,"disabled"]],template:function(e,a){if(1&e&&(r.Tb(0,"form",0,1),r.dc("ngSubmit",function(){return a.onSubmit()}),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Kc(5),r.Sb(),r.Sb(),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"input",7),r.dc("ngModelChange",function(e){return a.company_head.name=e}),r.Sb(),r.Sb(),r.Sb(),r.Tb(9,"div",8),r.Tb(10,"button",9),r.Kc(11," Cancel"),r.Sb(),r.Kc(12,"\xa0 "),r.Tb(13,"button",10),r.Kc(14),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&e){const e=r.wc(1);r.Ab(5),r.Lc(a.title),r.Ab(3),r.nc("ngModel",a.company_head.name),r.Ab(5),r.nc("disabled",e.invalid),r.Ab(1),r.Mc(" ",a.mode," ")}},directives:[s.y,s.o,s.p,s.c,s.u,s.n,s.q,m.b,d.d],styles:[".card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),e})();var l=t("j8vG"),p=t("OlR4"),h=t("NFeN"),u=t("Xa2L");function y(e,a){1&e&&(r.Tb(0,"mat-header-cell"),r.Kc(1," Name "),r.Sb())}function f(e,a){if(1&e&&(r.Tb(0,"mat-cell"),r.Kc(1),r.Sb()),2&e){const e=a.$implicit;r.Ab(1),r.Mc(" ",e.name," ")}}function S(e,a){1&e&&(r.Tb(0,"mat-header-cell"),r.Kc(1," Actions "),r.Sb())}function g(e,a){if(1&e){const e=r.Ub();r.Tb(0,"mat-cell"),r.Tb(1,"button",19),r.dc("click",function(){r.Ac(e);const t=a.$implicit;return r.hc().editCompanyHead(t)}),r.Tb(2,"mat-icon"),r.Kc(3,"create"),r.Sb(),r.Sb(),r.Kc(4,"\xa0 "),r.Tb(5,"button",20),r.dc("click",function(){r.Ac(e);const t=a.$implicit,n=a.index;return r.hc().deleteCompanyHead(t.id,n)}),r.Tb(6,"mat-icon"),r.Kc(7,"delete"),r.Sb(),r.Sb(),r.Sb()}}function C(e,a){1&e&&r.Ob(0,"mat-header-row")}function v(e,a){1&e&&r.Ob(0,"mat-row")}function w(e,a){1&e&&(r.Tb(0,"div",21),r.Kc(1," No records found "),r.Sb())}function T(e,a){1&e&&(r.Tb(0,"div",21),r.Kc(1,"Please wait...."),r.Sb())}function H(e,a){1&e&&r.Ob(0,"mat-spinner",22),2&e&&r.nc("diameter",20)}const _=function(){return[5,10,20]};let k=(()=>{class e{constructor(e,a,t,n){this.companyHeadService=e,this.commonService=a,this.cdr=t,this.dialog=n,this.displayedColumns=["name","actions"],this.company_heads=[],this.loaded=!1}ngOnInit(){this.companyHeadService.getAllCompanyHeads().subscribe(e=>{this.company_heads=e.company_heads,this.renderCompanyHeads(),this.loaded=!0,this.cdr.detectChanges()})}addCompanyHead(){this.dialog.open(b,{width:"440px",disableClose:!0}).afterClosed().subscribe(e=>{e&&this.companyHeadService.addCompanyHead(e.company_head).subscribe(e=>{this.company_heads.push(e.company_head),this.commonService.openSnackBar(e.message),this.renderCompanyHeads()},({error:e})=>{this.commonService.openSnackBar(e.errors.name[0],4e3)})})}renderCompanyHeads(){this.dataSource=new c.k(this.company_heads),this.dataSource.paginator=this.paginator}editCompanyHead(e){this.dialog.open(b,{data:{company_head:e},width:"440px",disableClose:!0}).afterClosed().subscribe(a=>{a&&this.companyHeadService.updateCompanyHead(a.company_head).subscribe(t=>{e=a.company_head,this.commonService.openSnackBar(t.message),this.cdr.detectChanges()},({error:e})=>{this.commonService.openSnackBar(e.errors.name[0],4e3)})})}deleteCompanyHead(e,a){this.dialog.open(i.a,{data:{title:"Delete company_head",message:"Are you sure?"},width:"440px",disableClose:!0}).afterClosed().subscribe(t=>{t&&t.confirm&&this.companyHeadService.deleteCompanyHead(e).subscribe(e=>{this.company_heads.splice(a,1),this.renderCompanyHeads(),this.commonService.openSnackBar(e.message)},({error:e})=>{this.commonService.openSnackBar(e.message,4e3)})})}}return e.\u0275fac=function(a){return new(a||e)(r.Nb(l.a),r.Nb(p.a),r.Nb(r.h),r.Nb(d.c))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-company-heads"]],viewQuery:function(e,a){if(1&e&&r.Ec(o.a,!0),2&e){let e;r.vc(e=r.ec())&&(a.paginator=e.first)}},decls:25,vars:10,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"mat-table-wrapper"],[3,"dataSource"],["table",""],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","mat-table-message",4,"ngIf"],[1,"mat-table-bottom"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["mat-icon-button","","color","primary","matTooltip","Edit user",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete user","type","button",3,"click"],[1,"mat-table-message"],[3,"diameter"]],template:function(e,a){1&e&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"h3"),r.Kc(4,"Company Heads"),r.Sb(),r.Sb(),r.Tb(5,"div",3),r.Tb(6,"button",4),r.dc("click",function(){return a.addCompanyHead()}),r.Kc(7," Add Company Head "),r.Sb(),r.Sb(),r.Sb(),r.Tb(8,"div",5),r.Tb(9,"div",6),r.Tb(10,"mat-table",7,8),r.Rb(12,9),r.Ic(13,y,2,0,"mat-header-cell",10),r.Ic(14,f,2,1,"mat-cell",11),r.Qb(),r.Rb(15,12),r.Ic(16,S,2,0,"mat-header-cell",10),r.Ic(17,g,8,0,"mat-cell",11),r.Qb(),r.Ic(18,C,1,0,"mat-header-row",13),r.Ic(19,v,1,0,"mat-row",14),r.Sb(),r.Ic(20,w,2,0,"div",15),r.Ic(21,T,2,0,"div",15),r.Sb(),r.Tb(22,"div",16),r.Ic(23,H,1,1,"mat-spinner",17),r.Ob(24,"mat-paginator",18),r.Sb(),r.Sb(),r.Sb()),2&e&&(r.Ab(10),r.nc("dataSource",a.dataSource),r.Ab(8),r.nc("matHeaderRowDef",a.displayedColumns),r.Ab(1),r.nc("matRowDefColumns",a.displayedColumns),r.Ab(1),r.nc("ngIf",a.loaded&&0==a.company_heads.length),r.Ab(1),r.nc("ngIf",!a.loaded),r.Ab(2),r.nc("ngIf",!a.loaded),r.Ab(1),r.nc("pageSize",10)("pageSizeOptions",r.qc(9,_))("showFirstLastButtons",!0))},directives:[c.j,c.c,c.e,c.b,c.g,c.i,n.n,o.a,c.d,c.a,m.b,h.a,c.f,c.h,u.b],styles:[".mat-table-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{min-width:800px;width:100%}"]}),e})();var A=t("tyNb"),I=t("93Pz"),K=t("kmnG");let O=(()=>{class e{}return e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({factory:function(a){return new(a||e)},imports:[[n.c,I.a,m.c,c.l,o.b,h.b,u.a,s.j,K.e,d.e,A.k.forChild([{path:"",component:k}])]]}),e})()}}]);