(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0wwu":function(t,e,i){"use strict";i.d(e,"a",function(){return A});var n=i("0IaG"),r=i("nYR2"),o=i("fXoL"),c=i("3Pt+"),a=i("S3Px"),d=i("OlR4"),b=i("ofXK"),s=i("Xa2L"),u=i("kmnG"),l=i("d3UM"),p=i("qFsG"),g=i("bTqV"),m=i("FKr1"),h=i("rIor");function f(t,e){if(1&t&&(o.Tb(0,"mat-option",32),o.Lc(1),o.Sb()),2&t){const t=e.$implicit;o.oc("value",t.id),o.Ab(1),o.Nc(" ",t.name," ")}}function S(t,e){if(1&t&&(o.Tb(0,"mat-option",32),o.Lc(1),o.Sb()),2&t){const t=e.$implicit;o.oc("value",t.id),o.Ab(1),o.Nc(" ",t.name," ")}}function v(t,e){1&t&&(o.Tb(0,"h3"),o.Lc(1,"Selected Image:"),o.Sb())}function T(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",35),o.Jc(1,v,2,0,"h3",37),o.Tb(2,"image-cropper",38),o.dc("imageCropped",function(e){return o.Bc(t),o.hc(2).imageCropped(e)}),o.Sb(),o.Sb()}if(2&t){const t=o.hc(2);o.Ab(1),o.oc("ngIf",t.imageChangedEvent),o.Ab(1),o.oc("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",2)("cropperMinWidth",200)("imageQuality",60)("resizeToWidth",600)}}function C(t,e){if(1&t&&(o.Tb(0,"div",39),o.Ob(1,"img",40),o.Sb()),2&t){const t=o.hc(2);o.Ab(1),o.oc("src",t.product.image,o.Cc)}}function y(t,e){if(1&t&&(o.Tb(0,"div",39),o.Ob(1,"img",40),o.Sb()),2&t){const t=o.hc(2);o.Ab(1),o.oc("src",t.product.image_url,o.Cc)}}function M(t,e){if(1&t&&(o.Tb(0,"div",33),o.Jc(1,T,3,7,"div",34),o.Tb(2,"div",35),o.Tb(3,"h3"),o.Lc(4),o.Sb(),o.Jc(5,C,2,1,"div",36),o.Jc(6,y,2,1,"div",36),o.Sb(),o.Sb()),2&t){const t=o.hc();o.Ab(1),o.oc("ngIf",t.imageChangedEvent),o.Ab(3),o.Mc(t.imageChangedEvent?"Cropped Image:":"Product"),o.Ab(1),o.oc("ngIf",t.product.image),o.Ab(1),o.oc("ngIf",t.product.image_url&&!t.product.image)}}const L=function(t){return{"card-body-progress card-body-progress-overlay":t}};let A=(()=>{class t{constructor(t,e,i,n,r){this.dialogRef=t,this.data=e,this.fb=i,this.productsService=n,this.commonService=r,this.product={brand_id:"",name:"",description:"",purchase_price:"",sale_price:"",unit_id:"",unit_quantity:"",discount:"",order:""},this.viewLoading=!0,this.imageChangedEvent="",this.croppedImage=""}ngOnInit(){this.brands=this.data.paramsData.brands,this.units=this.data.paramsData.units,this.data.product&&(this.product=Object.assign({},this.data.product),this.mode="edit"),this.viewLoading=!1}getTitle(){return this.product.id?`Edit Product '${this.product.name}'`:"New Product"}fileChangeEvent(t){this.imageChangedEvent=t,this.product.image=""}imageCropped(t){this.product.image=t.base64,this.product.image_url=t.base64}imageChanged(){this.product.image=""}onSubmit(){this.disabled=!0,"edit"===this.mode?this.productsService.updateProduct(this.product).pipe(Object(r.a)(()=>this.disabled=!1)).subscribe(({message:t})=>{this.commonService.openSnackBar(t),this.dialogRef.close(t)},({error:t})=>{this.commonService.openSnackBar(t.message,4e3)}):this.productsService.addProduct(this.product).pipe(Object(r.a)(()=>this.disabled=!1)).subscribe(({message:t})=>{this.commonService.openSnackBar(t),this.dialogRef.close(t)},({error:t})=>{this.commonService.openSnackBar(t.message,4e3)})}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(n.f),o.Nb(n.a),o.Nb(c.e),o.Nb(a.a),o.Nb(d.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-add-product-dialog"]],decls:85,vars:18,consts:[[1,"card","card-custom",3,"ngClass"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"form",3,"ngSubmit"],["f","ngForm"],[1,"card-body"],[1,"card-body-progress"],[3,"diameter"],[1,"form-group","row"],[1,"col-lg-4","kt-margin-bottom-20-mobile"],[1,"mat-form-field-fluid"],["placeholder","Select Brand","name","brand","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","placeholder","Name","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Descrpition","rows","4","name","description",3,"ngModel","ngModelChange"],["description",""],["align","end"],[1,"separator","separator-dashed","my-6"],["matPrefix",""],["matInput","","type","number","placeholder","Purchase Price","name","purchase_price",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","Sale Price","name","sale_price",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","Discount","name","discount",3,"ngModel","ngModelChange"],["placeholder","Select Unit","name","unit","required","",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","Unit Quantity","name","unit_quantity","required","",3,"ngModel","ngModelChange"],["type","file","name","image",3,"change"],["class","row images",4,"ngIf"],[1,"card-footer"],[1,"d-flex","justify-content-between"],[1,"mr-2"],["type","button","mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"row","images"],["class","col-lg-6 kt-margin-bottom-20-mobile",4,"ngIf"],[1,"col-lg-6","kt-margin-bottom-20-mobile"],["class","imagePreview",4,"ngIf"],[4,"ngIf"],["format","jpeg",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","cropperMinWidth","imageQuality","resizeToWidth","imageCropped"],[1,"imagePreview"],[1,"img-fluid",3,"src"]],template:function(t,e){if(1&t&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Tb(3,"h3",3),o.Lc(4),o.Sb(),o.Sb(),o.Sb(),o.Tb(5,"form",4,5),o.dc("ngSubmit",function(){return e.onSubmit()}),o.Tb(7,"div",6),o.Tb(8,"div",7),o.Ob(9,"mat-spinner",8),o.Sb(),o.Tb(10,"div",9),o.Tb(11,"div",10),o.Tb(12,"mat-form-field",11),o.Tb(13,"mat-select",12),o.dc("ngModelChange",function(t){return e.product.brand_id=t}),o.Jc(14,f,2,2,"mat-option",13),o.Sb(),o.Tb(15,"mat-error"),o.Lc(16,"Brand is "),o.Tb(17,"strong"),o.Lc(18,"required"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(19,"div",10),o.Tb(20,"mat-form-field",11),o.Tb(21,"input",14),o.dc("ngModelChange",function(t){return e.product.name=t}),o.Sb(),o.Tb(22,"mat-error"),o.Lc(23," Name is "),o.Tb(24,"strong"),o.Lc(25,"required"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(26,"div",10),o.Tb(27,"mat-form-field",11),o.Tb(28,"textarea",15,16),o.dc("ngModelChange",function(t){return e.product.description=t}),o.Sb(),o.Tb(30,"mat-hint",17),o.Lc(31),o.Sb(),o.Tb(32,"mat-error"),o.Lc(33," Description is "),o.Tb(34,"strong"),o.Lc(35,"required"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Ob(36,"div",18),o.Tb(37,"div",9),o.Tb(38,"div",10),o.Tb(39,"mat-form-field",11),o.Tb(40,"span",19),o.Lc(41,"Rs: \xa0"),o.Sb(),o.Tb(42,"input",20),o.dc("ngModelChange",function(t){return e.product.purchase_price=t}),o.Sb(),o.Sb(),o.Sb(),o.Tb(43,"div",10),o.Tb(44,"mat-form-field",11),o.Tb(45,"span",19),o.Lc(46,"Rs: \xa0"),o.Sb(),o.Tb(47,"input",21),o.dc("ngModelChange",function(t){return e.product.sale_price=t}),o.Sb(),o.Sb(),o.Sb(),o.Tb(48,"div",10),o.Tb(49,"mat-form-field",11),o.Tb(50,"span",19),o.Lc(51,"Rs: \xa0"),o.Sb(),o.Tb(52,"input",22),o.dc("ngModelChange",function(t){return e.product.discount=t}),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Ob(53,"div",18),o.Tb(54,"div",9),o.Tb(55,"div",10),o.Tb(56,"mat-form-field",11),o.Tb(57,"mat-select",23),o.dc("ngModelChange",function(t){return e.product.unit_id=t}),o.Jc(58,S,2,2,"mat-option",13),o.Sb(),o.Tb(59,"mat-error"),o.Lc(60," Unit is "),o.Tb(61,"strong"),o.Lc(62,"required"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(63,"div",10),o.Tb(64,"mat-form-field",11),o.Tb(65,"input",24),o.dc("ngModelChange",function(t){return e.product.unit_quantity=t}),o.Sb(),o.Tb(66,"mat-error"),o.Lc(67," Unit Quantity is "),o.Tb(68,"strong"),o.Lc(69,"required"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Ob(70,"div",18),o.Tb(71,"div",9),o.Tb(72,"div",10),o.Tb(73,"input",25),o.dc("change",function(t){return e.fileChangeEvent(t)}),o.Sb(),o.Sb(),o.Sb(),o.Ob(74,"div",18),o.Jc(75,M,7,4,"div",26),o.Sb(),o.Tb(76,"div",27),o.Tb(77,"div",28),o.Ob(78,"div",29),o.Tb(79,"div"),o.Tb(80,"button",30),o.Lc(81," Cancel"),o.Sb(),o.Lc(82,"\xa0 "),o.Tb(83,"button",31),o.dc("click",function(){return e.onSubmit()}),o.Lc(84," Save "),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&t){const t=o.xc(6),i=o.xc(29);o.oc("ngClass",o.sc(16,L,e.viewLoading)),o.Ab(4),o.Mc(e.getTitle()),o.Ab(5),o.oc("diameter",20),o.Ab(4),o.oc("ngModel",e.product.brand_id),o.Ab(1),o.oc("ngForOf",e.brands),o.Ab(7),o.oc("ngModel",e.product.name),o.Ab(7),o.oc("ngModel",e.product.description),o.Ab(3),o.Nc(" ",i.value.length," / 400 "),o.Ab(11),o.oc("ngModel",e.product.purchase_price),o.Ab(5),o.oc("ngModel",e.product.sale_price),o.Ab(5),o.oc("ngModel",e.product.discount),o.Ab(5),o.oc("ngModel",e.product.unit_id),o.Ab(1),o.oc("ngForOf",e.units),o.Ab(7),o.oc("ngModel",e.product.unit_quantity),o.Ab(10),o.oc("ngIf",e.product.image||e.product.image_url||e.imageChangedEvent),o.Ab(8),o.oc("disabled",e.viewLoading||t.invalid||t.pristine&&!e.product.image||e.disabled)}},directives:[b.l,c.y,c.o,c.p,s.b,u.c,l.a,c.u,c.n,c.q,b.m,u.b,p.a,c.c,u.f,u.h,c.s,b.n,g.b,n.d,m.f,h.a],styles:[".images[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}"]}),t})()},S3Px:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i("tk/3"),r=i("AytR"),o=i("fXoL");let c=(()=>{class t{constructor(t){this.httpClient=t}getProducts(t){const e=new n.e({fromObject:t}).toString();return this.httpClient.get(r.a.apiUrl+"filtered-products?"+e)}getAllProducts(){return this.httpClient.get(r.a.apiUrl+"all-products")}getCreateProductParams(){return this.httpClient.get(r.a.apiUrl+"products/create")}addProduct(t){return this.httpClient.post(r.a.apiUrl+"products",t)}updateProduct(t){return this.httpClient.patch(r.a.apiUrl+"products/"+t.id,t)}toggle_visibility(t){return this.httpClient.post(r.a.apiUrl+"products/toggle-visibility",{id:t})}deleteProduct(t){return this.httpClient.delete(r.a.apiUrl+"products/"+t)}}return t.\u0275fac=function(e){return new(e||t)(o.ac(n.c))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},tM0M:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i("ofXK"),r=i("sYmb"),o=i("fXoL");let c=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[n.c,r.b],n.c,r.b]}),t})()},zyfY:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i("0IaG"),r=i("fXoL"),o=i("bTqV");let c=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){this.title=this.data.title,this.message=this.data.message}yes(){this.dialogRef.close({confirm:!0})}no(){this.dialogRef.close({confirm:!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(n.f),r.Nb(n.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-confirmation-dialog"]],decls:13,vars:2,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-content"],[1,"card-footer"],["mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["color","primary","mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Lc(3),r.Sb(),r.Sb(),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Lc(6),r.Sb(),r.Sb(),r.Tb(7,"div",5),r.Tb(8,"button",6),r.Lc(9,"No"),r.Sb(),r.Lc(10,"\xa0 "),r.Tb(11,"button",7),r.dc("click",function(){return e.yes()}),r.Lc(12,"Yes"),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(3),r.Mc(e.title),r.Ab(3),r.Mc(e.message))},directives:[o.b,n.d],styles:[".card-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),t})()}}]);