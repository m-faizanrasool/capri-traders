{"version":3,"sources":["./src/app/pages/products/list/add-product-dialog/add-product-dialog.component.ts","./src/app/pages/products/list/add-product-dialog/add-product-dialog.component.html","./src/app/services/products.service.ts"],"names":[],"mappings":"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","file":"default~products-products-module~purchases-purchases-module~sales-sales-module-es2015.js","sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { ImageCroppedEvent } from 'ngx-image-cropper';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { CommonService } from 'src/app/services/common.service';\r\nimport { ProductsService } from 'src/app/services/products.service';\r\n\r\n@Component({\r\n\tselector: 'app-add-product-dialog',\r\n\ttemplateUrl: './add-product-dialog.component.html',\r\n\tstyleUrls: ['./add-product-dialog.component.scss'],\r\n})\r\nexport class AddProductDialogComponent implements OnInit {\r\n\tproduct: any = {\r\n\t\tbrand_id: '',\r\n\t\tname: '',\r\n\t\tdescription: '',\r\n\t\tpurchase_price: '',\r\n\t\tsale_price: '',\r\n\t\tunit_id: '',\r\n\t\tunit_quantity: '',\r\n\t\tdiscount: '',\r\n\t\torder: '',\r\n\t};\r\n\tproductForm: FormGroup;\r\n\r\n\tbrands: any[];\r\n\tunits: any[];\r\n\tmode: string;\r\n\tdisabled: boolean;\r\n\r\n\tviewLoading = true;\r\n\r\n\terrorMessage: string;\r\n\r\n\timageChangedEvent: any = '';\r\n\tcroppedImage: any = '';\r\n\r\n\tconstructor(\r\n\t\tpublic dialogRef: MatDialogRef<AddProductDialogComponent>,\r\n\t\t@Inject(MAT_DIALOG_DATA) public data: any,\r\n\t\tprivate fb: FormBuilder,\r\n\t\tprivate productsService: ProductsService,\r\n\t\tprivate commonService: CommonService\r\n\t) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.brands = this.data.paramsData.brands;\r\n\t\tthis.units = this.data.paramsData.units;\r\n\r\n\t\tif (this.data.product) {\r\n\t\t\tthis.product = { ...this.data.product };\r\n\t\t\tthis.mode = 'edit';\r\n\t\t}\r\n\t\tthis.viewLoading = false;\r\n\t}\r\n\r\n\tgetTitle(): string {\r\n\t\tif (this.product.id) {\r\n\t\t\treturn `Edit Product '${this.product.name}'`;\r\n\t\t}\r\n\r\n\t\treturn 'New Product';\r\n\t}\r\n\r\n\tfileChangeEvent(event: any): void {\r\n\t\tthis.imageChangedEvent = event;\r\n\t\tthis.product.image = '';\r\n\t}\r\n\timageCropped(event: ImageCroppedEvent) {\r\n\t\tthis.product.image = event.base64;\r\n\t\tthis.product.image_url = event.base64;\r\n\t}\r\n\r\n\timageChanged() {\r\n\t\tthis.product.image = '';\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.disabled = true;\r\n\t\tif (this.mode === 'edit') {\r\n\t\t\tthis.productsService\r\n\t\t\t\t.updateProduct(this.product)\r\n\t\t\t\t.pipe(finalize(() => (this.disabled = false)))\r\n\t\t\t\t.subscribe(\r\n\t\t\t\t\t({ message }: any) => {\r\n\t\t\t\t\t\tthis.commonService.openSnackBar(message);\r\n\t\t\t\t\t\tthis.dialogRef.close(message);\r\n\t\t\t\t\t},\r\n\t\t\t\t\t({ error }) => {\r\n\t\t\t\t\t\tthis.commonService.openSnackBar(error.message, 4000);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.productsService\r\n\t\t\t\t.addProduct(this.product)\r\n\t\t\t\t.pipe(finalize(() => (this.disabled = false)))\r\n\t\t\t\t.subscribe(\r\n\t\t\t\t\t({ message }: any) => {\r\n\t\t\t\t\t\tthis.commonService.openSnackBar(message);\r\n\t\t\t\t\t\tthis.dialogRef.close(message);\r\n\t\t\t\t\t},\r\n\t\t\t\t\t({ error }) => {\r\n\t\t\t\t\t\tthis.commonService.openSnackBar(error.message, 4000);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n","<div\r\n\tclass=\"card card-custom\"\r\n\t[ngClass]=\"{ 'card-body-progress card-body-progress-overlay': viewLoading }\"\r\n>\r\n\t<div class=\"card-header\">\r\n\t\t<div class=\"card-title\">\r\n\t\t\t<h3 class=\"card-label\">{{ getTitle() }}</h3>\r\n\t\t</div>\r\n\t</div>\r\n\t<form class=\"form\" (ngSubmit)=\"onSubmit()\" #f=\"ngForm\">\r\n\t\t<div class=\"card-body\">\r\n\t\t\t<div class=\"card-body-progress\">\r\n\t\t\t\t<mat-spinner [diameter]=\"20\"></mat-spinner>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"form-group row\">\r\n\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t<mat-select\r\n\t\t\t\t\t\t\tplaceholder=\"Select Brand\"\r\n\t\t\t\t\t\t\tname=\"brand\"\r\n\t\t\t\t\t\t\t[(ngModel)]=\"product.brand_id\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<mat-option *ngFor=\"let brand of brands\" [value]=\"brand.id\">\r\n\t\t\t\t\t\t\t\t{{ brand.name }}\r\n\t\t\t\t\t\t\t</mat-option>\r\n\t\t\t\t\t\t</mat-select>\r\n\t\t\t\t\t\t<mat-error\r\n\t\t\t\t\t\t\t>Brand is\r\n\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t[(ngModel)]=\"product.name\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\tName is\r\n\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\tplaceholder=\"Descrpition\"\r\n\t\t\t\t\t\t\trows=\"4\"\r\n\t\t\t\t\t\t\t#description\r\n\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t[(ngModel)]=\"product.description\"\r\n\t\t\t\t\t\t></textarea>\r\n\t\t\t\t\t\t<mat-hint align=\"end\">\r\n\t\t\t\t\t\t\t{{ description.value.length }} / 400\r\n\t\t\t\t\t\t</mat-hint>\r\n\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\tDescription is\r\n\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"separator separator-dashed my-6\"></div>\r\n\r\n\t\t\t<div class=\"form-group row\">\r\n\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t<span matPrefix>Rs: &nbsp;</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder=\"Purchase Price\"\r\n\t\t\t\t\t\t\tname=\"purchase_price\"\r\n\t\t\t\t\t\t\t[(ngModel)]=\"product.purchase_price\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t<span matPrefix>Rs: &nbsp;</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder=\"Sale Price\"\r\n\t\t\t\t\t\t\tname=\"sale_price\"\r\n\t\t\t\t\t\t\t[(ngModel)]=\"product.sale_price\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t<span matPrefix>Rs: &nbsp;</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder=\"Discount\"\r\n\t\t\t\t\t\t\tname=\"discount\"\r\n\t\t\t\t\t\t\t[(ngModel)]=\"product.discount\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"separator separator-dashed my-6\"></div>\r\n\t\t\t<div class=\"form-group row\">\r\n\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t<mat-select\r\n\t\t\t\t\t\t\tplaceholder=\"Select Unit\"\r\n\t\t\t\t\t\t\tname=\"unit\"\r\n\t\t\t\t\t\t\t[(ngModel)]=\"product.unit_id\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<mat-option *ngFor=\"let unit of units\" [value]=\"unit.id\">\r\n\t\t\t\t\t\t\t\t{{ unit.name }}\r\n\t\t\t\t\t\t\t</mat-option>\r\n\t\t\t\t\t\t</mat-select>\r\n\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\tUnit is\r\n\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder=\"Unit Quantity\"\r\n\t\t\t\t\t\t\tname=\"unit_quantity\"\r\n\t\t\t\t\t\t\t[(ngModel)]=\"product.unit_quantity\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\tUnit Quantity is\r\n\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"separator separator-dashed my-6\"></div>\r\n\r\n\t\t\t<div class=\"form-group row\">\r\n\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<input type=\"file\" (change)=\"fileChangeEvent($event)\" name=\"image\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"separator separator-dashed my-6\"></div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tclass=\"row images\"\r\n\t\t\t\t*ngIf=\"product.image || product.image_url || imageChangedEvent\"\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"col-lg-6 kt-margin-bottom-20-mobile\"\r\n\t\t\t\t\t*ngIf=\"imageChangedEvent\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<h3 *ngIf=\"imageChangedEvent\">Selected Image:</h3>\r\n\t\t\t\t\t<image-cropper\r\n\t\t\t\t\t\t[imageChangedEvent]=\"imageChangedEvent\"\r\n\t\t\t\t\t\t[maintainAspectRatio]=\"true\"\r\n\t\t\t\t\t\t[aspectRatio]=\"4 / 2\"\r\n\t\t\t\t\t\t[cropperMinWidth]=\"200\"\r\n\t\t\t\t\t\t[imageQuality]=\"60\"\r\n\t\t\t\t\t\t[resizeToWidth]=\"600\"\r\n\t\t\t\t\t\tformat=\"jpeg\"\r\n\t\t\t\t\t\t(imageCropped)=\"imageCropped($event)\"\r\n\t\t\t\t\t></image-cropper>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-lg-6 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<h3>{{ imageChangedEvent ? 'Cropped Image:' : 'Product' }}</h3>\r\n\t\t\t\t\t<div class=\"imagePreview\" *ngIf=\"product.image\">\r\n\t\t\t\t\t\t<img [src]=\"product.image\" class=\"img-fluid\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"imagePreview\" *ngIf=\"product.image_url && !product.image\">\r\n\t\t\t\t\t\t<img [src]=\"product.image_url\" class=\"img-fluid\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"card-footer\">\r\n\t\t\t<div class=\"d-flex justify-content-between\">\r\n\t\t\t\t<div class=\"mr-2\"></div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tmat-raised-button\r\n\t\t\t\t\t\tmat-dialog-close\r\n\t\t\t\t\t\tcdkFocusInitial\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCancel</button\r\n\t\t\t\t\t>&nbsp;\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tmat-raised-button\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t(click)=\"onSubmit()\"\r\n\t\t\t\t\t\t[disabled]=\"\r\n\t\t\t\t\t\t\tviewLoading ||\r\n\t\t\t\t\t\t\tf.invalid ||\r\n\t\t\t\t\t\t\t(f.pristine && !product.image) ||\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</form>\r\n</div>\r\n","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class ProductsService {\r\n\tconstructor(private httpClient: HttpClient) {}\r\n\r\n\tgetProducts(queryParams) {\r\n\t\tconst queryParamsString = new HttpParams({\r\n\t\t\tfromObject: queryParams,\r\n\t\t}).toString();\r\n\r\n\t\treturn this.httpClient.get(\r\n\t\t\tenvironment.apiUrl + 'filtered-products?' + queryParamsString\r\n\t\t);\r\n\t}\r\n\r\n\tgetAllProducts() {\r\n\t\treturn this.httpClient.get(environment.apiUrl + 'all-products');\r\n\t}\r\n\r\n\tgetCreateProductParams() {\r\n\t\treturn this.httpClient.get(environment.apiUrl + 'products/create');\r\n\t}\r\n\r\n\taddProduct(product) {\r\n\t\treturn this.httpClient.post(`${environment.apiUrl}products`, product);\r\n\t}\r\n\r\n\tupdateProduct(product) {\r\n\t\treturn this.httpClient.patch(\r\n\t\t\t`${environment.apiUrl}products/` + product.id,\r\n\t\t\tproduct\r\n\t\t);\r\n\t}\r\n\r\n\ttoggle_visibility(id) {\r\n\t\treturn this.httpClient.post(\r\n\t\t\t`${environment.apiUrl}products/toggle-visibility`,\r\n\t\t\t{\r\n\t\t\t\tid,\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tdeleteProduct(id) {\r\n\t\treturn this.httpClient.delete(`${environment.apiUrl}products/` + id);\r\n\t}\r\n}\r\n\r\nexport interface ProductQuery {\r\n\tpage_index: number;\r\n\titems_per_page: number;\r\n\tsearch?: string;\r\n\tcategories?: string;\r\n\tbrands?: string;\r\n}\r\n"],"sourceRoot":"webpack:///"}