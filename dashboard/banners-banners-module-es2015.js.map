{"version":3,"sources":["./src/app/pages/banners/add/add.component.ts","./src/app/pages/banners/add/add.component.html","./src/app/services/banners.service.ts","./src/app/pages/banners/banners.module.ts","./src/app/pages/banners/banners.component.ts","./src/app/pages/banners/banners.component.html"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACe;;;;;;;;ICoBpE,qEAA8B;IAAA,0EAAe;IAAA,4DAAK;;;;IAJnD,0EAIC;IAAA,oHAAkD;IAClD,oFAOC;IADA,4VAAqC;IACrC,4DAAgB;IAClB,4DAAM;;;IATA,0DAAuB;IAAvB,0FAAuB;IAE3B,0DAAuC;IAAvC,uGAAuC;;;IAUxC,0EACC;IAAA,qEACD;IAAA,4DAAM;;;IADA,0DAAoB;IAApB,iJAAoB;;;IAE1B,0EACC;IAAA,qEACD;IAAA,4DAAM;;;IADA,0DAAwB;IAAxB,qJAAwB;;;IAxBhC,0EAIC;IAAA,gHAaM;IACN,0EACC;IAAA,qEAAI;IAAA,uDAAqD;IAAA,4DAAK;IAC9D,gHAEM;IACN,gHAEM;IACP,4DAAM;IACP,4DAAM;;;IArBH,0DAAuB;IAAvB,0FAAuB;IAapB,0DAAqD;IAArD,uHAAqD;IAC9B,0DAAkB;IAAlB,qFAAkB;IAGlB,0DAAuC;IAAvC,iHAAuC;;AD3BhE,MAAM,YAAY;IAOxB,YACQ,SAAqC,EACZ,IAAS;QADlC,cAAS,GAAT,SAAS,CAA4B;QACZ,SAAI,GAAJ,IAAI,CAAK;QAN1C,WAAM,GAAQ,EAAE,CAAC;QAEjB,sBAAiB,GAAQ,EAAE,CAAC;QAC5B,iBAAY,GAAQ,EAAE,CAAC;IAIpB,CAAC;IAEJ,QAAQ;QACP,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAClC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAC/B,IAAI,CAAC,KAAK,GAAG,eAAe,CAAC;YAC7B,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;SACrB;aAAM;YACN,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC;YAC1B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;SAClB;IACF,CAAC;IAED,eAAe,CAAC,KAAU;QACzB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;IACxB,CAAC;IACD,YAAY,CAAC,KAAwB;QACpC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC;IACtC,CAAC;IAED,YAAY;QACX,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;IACxB,CAAC;IAED,QAAQ;QACP,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;IAC9D,CAAC;;wEAtCW,YAAY,0MASf,wEAAe;4FATZ,YAAY;QCTzB,6EACC;QADK,wIAAY,cAAU,IAAC;QAC5B,yEACC;QAAA,yEACC;QAAA,yEAAwB;QAAA,uDAAW;QAAA,4DAAM;QAC1C,4DAAM;QACN,yEACC;QAAA,yEACC;QAAA,yEACC;QAAA,2EACD;QADoB,2IAAU,2BAAuB,IAAC;QAArD,4DACD;QAAA,4DAAM;QACP,4DAAM;QACN,qEAAmD;QAEnD,2GA2BM;QACP,4DAAM;QACN,2EACC;QAAA,8EACC;QAAA,mEAAM;QAAA,4DACN;QAAA,mEACD;QAAA,8EAOC;QAAA,wDACD;QAAA,4DAAS;QACV,4DAAM;QACP,4DAAM;QACP,4DAAO;;;QAtDoB,0DAAW;QAAX,0EAAW;QAYjC,0DAA2D;QAA3D,mIAA2D;QAoC5D,0DAAuD;QAAvD,sHAAuD;QAEvD,0DACD;QADC,oFACD;;6FD7CU,YAAY;cALxB,uDAAS;eAAC;gBACV,QAAQ,EAAE,SAAS;gBACnB,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,CAAC,sBAAsB,CAAC;aACnC;;sBAUE,oDAAM;uBAAC,wEAAe;;;;;;;;;;;;;;AEjBzB;AAAA;AAAA;AAAA;AAAA;AAA2C;AAEgB;;;AAKpD,MAAM,cAAc;IAC1B,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAG,CAAC;IAE9C,UAAU;QACT,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,wEAAW,CAAC,MAAM,SAAS,CAAC,CAAC;IAC5D,CAAC;IAED,SAAS,CAAC,MAAM;QACf,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,wEAAW,CAAC,MAAM,SAAS,EAAE,MAAM,CAAC,CAAC;IACrE,CAAC;IAED,YAAY,CAAC,MAAM;QAClB,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAC3B,GAAG,wEAAW,CAAC,MAAM,UAAU,GAAG,MAAM,CAAC,EAAE,EAC3C,MAAM,CACN,CAAC;IACH,CAAC;IAED,YAAY,CAAC,EAAE;QACd,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,wEAAW,CAAC,MAAM,UAAU,GAAG,EAAE,CAAC,CAAC;IACrE,CAAC;;4EApBW,cAAc;iGAAd,cAAc,WAAd,cAAc,mBAFd,MAAM;6FAEN,cAAc;cAH1B,wDAAU;eAAC;gBACX,UAAU,EAAE,MAAM;aAClB;;;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AACQ;AACR;AAEY;AACF;AACQ;AACa;AACvB;AACW;AACrB;AACU;AAEmC;AACvC;AACQ;AAC0D;;;AAyB9G,MAAM,aAAa;;4FAAb,aAAa;oJAAb,aAAa,kBArBhB;YACR,4DAAY;YACZ,uGAAa;YACb,wEAAe;YACf,sEAAc;YACd,8EAAkB;YAClB,oEAAa;YACb,2FAAwB;YACxB,2DAAW;YACX,+EAAkB;YAClB,yEAAe;YACf,qEAAkB;YAClB,4DAAY,CAAC,QAAQ,CAAC;gBACrB;oBACC,IAAI,EAAE,EAAE;oBACR,SAAS,EAAE,mEAAgB;iBAC3B;aACD,CAAC;SACF;mIAGW,aAAa,mBAtBV,mEAAgB,EAAE,gEAAY,aAE5C,4DAAY;QACZ,uGAAa;QACb,wEAAe;QACf,sEAAc;QACd,8EAAkB;QAClB,oEAAa;QACb,2FAAwB;QACxB,2DAAW;QACX,+EAAkB;QAClB,yEAAe;QACf,qEAAkB;6FAUP,aAAa;cAvBzB,sDAAQ;eAAC;gBACT,YAAY,EAAE,CAAC,mEAAgB,EAAE,gEAAY,CAAC;gBAC9C,OAAO,EAAE;oBACR,4DAAY;oBACZ,uGAAa;oBACb,wEAAe;oBACf,sEAAc;oBACd,8EAAkB;oBAClB,oEAAa;oBACb,2FAAwB;oBACxB,2DAAW;oBACX,+EAAkB;oBAClB,yEAAe;oBACf,qEAAkB;oBAClB,4DAAY,CAAC,QAAQ,CAAC;wBACrB;4BACC,IAAI,EAAE,EAAE;4BACR,SAAS,EAAE,mEAAgB;yBAC3B;qBACD,CAAC;iBACF;gBACD,eAAe,EAAE,CAAC,gEAAY,EAAE,gIAA2B,CAAC;aAC5D;;;;;;;;;;;;;;ACzCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgF;AAErB;AACE;AACV;AAGkE;;;;;;;;;;;;ICShH,kFAAoC;IAAA,kEAAM;IAAA,4DAAkB;;;IAC5D,2EACC;IAAA,qEACD;IAAA,4DAAW;;;IADL,0DAAwB;IAAxB,kJAAwB;;;IAK9B,kFAAoC;IAAA,oEAAQ;IAAA,4DAAkB;;;;IAC9D,2EACE;IAAA,6EAMA;IAFA,0WAA4B;IAE5B,2EAAU;IAAA,iEAAM;IAAA,4DAAW;IAAA,4DAC3B;IAAA,kEACD;IAAA,6EAOC;IAFA,uZAAwC;IAExC,2EAAU;IAAA,iEAAM;IAAA,4DAAW;IAC5B,4DAAS;IACV,4DAAW;;;IAGZ,4EAAqE;;;IACrE,qEAAmE;;;IAIpE,0EACC;IAAA,6EACD;IAAA,4DAAM;;;IACN,0EAA+C;IAAA,0EAAe;IAAA,4DAAM;;;IAMpE,6EAA2D;;IAA9C,wEAAe;;;AD7CxB,MAAM,gBAAgB;IAQ5B,YACS,cAA8B,EAC9B,aAA4B,EAC5B,GAAsB,EACvB,MAAiB;QAHhB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC5B,QAAG,GAAH,GAAG,CAAmB;QACvB,WAAM,GAAN,MAAM,CAAW;QARzB,qBAAgB,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QACxC,YAAO,GAAU,EAAE,CAAC;QACpB,WAAM,GAAG,KAAK,CAAC;IAOZ,CAAC;IAEJ,QAAQ;QACP,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,CAAC,QAAa,EAAE,EAAE;YAC5D,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;YAChC,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,SAAS;QACR,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+DAAY,EAAE;YAChD,KAAK,EAAE,OAAO;YACd,YAAY,EAAE,IAAI;SAClB,CAAC,CAAC;QAEH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACzC,IAAI,CAAC,GAAG,EAAE;gBACT,OAAO;aACP;YAED,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,SAAS,CAClD,CAAC,QAAa,EAAE,EAAE;gBACjB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACnC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBAClD,IAAI,CAAC,aAAa,EAAE,CAAC;YACtB,CAAC,EACD,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;gBACb,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YACtD,CAAC,CACD,CAAC;QACH,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,aAAa;QACZ,IAAI,CAAC,UAAU,GAAG,IAAI,0EAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACvD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;IAC5C,CAAC;IAED,UAAU,CAAC,MAAW;QACrB,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+DAAY,EAAE;YAChD,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE;YACxB,KAAK,EAAE,OAAO;YACd,YAAY,EAAE,IAAI;SAClB,CAAC,CAAC;QAEH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACzC,IAAI,CAAC,GAAG,EAAE;gBACT,OAAO;aACP;YAED,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,SAAS,CACrD,CAAC,QAAa,EAAE,EAAE;gBACjB,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;gBACpB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBAClD,IAAI,CAAC,aAAa,EAAE,CAAC;YACtB,CAAC,EACD,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;gBACb,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YACtD,CAAC,CACD,CAAC;QACH,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,YAAY,CAAC,EAAE,EAAE,KAAK;QACrB,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+HAA2B,EAAE;YAC/D,IAAI,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,eAAe,EAAE;YAC1D,KAAK,EAAE,OAAO;YACd,YAAY,EAAE,IAAI;SAClB,CAAC,CAAC;QAEH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACzC,IAAI,CAAC,GAAG,EAAE;gBACT,OAAO;aACP;YAED,IAAI,GAAG,CAAC,OAAO,EAAE;gBAChB,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,SAAS,CAC7C,CAAC,QAAa,EAAE,EAAE;oBACjB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,aAAa,EAAE,CAAC;oBACrB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBACnD,CAAC,EACD,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;oBACb,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;gBACtD,CAAC,CACD,CAAC;aACF;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;;gFAvGW,gBAAgB;gGAAhB,gBAAgB;wEACjB,wEAAY;;;;;QCfxB,yEACC;QAAA,yEACC;QAAA,yEACC;QAAA,qEAAI;QAAA,kEAAO;QAAA,4DAAK;QACjB,4DAAM;QACN,yEACC;QAAA,4EAAsD;QAAtB,wIAAS,eAAW,IAAC;QAAC,sEAAW;QAAA,4DAAS;QAC3E,4DAAM;QACP,4DAAM;QACN,yEACC;QAAA,yEACC;QAAA,mFACC;QAGA,4EACC;QAAA,uIAA4D;QAC5D,yHAEW;QACZ,qEAAe;QAEf,6EACC;QAAA,uIAA8D;QAC9D,yHAkBW;QACZ,qEAAe;QAEf,qIAAqE;QACrE,uHAAmE;QACpE,4DAAY;QAGZ,+GAEM;QACN,+GAAoE;QACrE,4DAAM;QAGN,2EACC;QACA,+HAA2D;QAG3D,gFAIiB;QAClB,4DAAM;QACP,4DAAM;QACP,4DAAM;;QA1De,2DAAyB;QAAzB,sFAAyB;QAkCzB,0DAAiC;QAAjC,iGAAiC;QACpB,0DAAyB;QAAzB,kGAAyB;QAIxB,0DAAmC;QAAnC,uGAAmC;QAGnC,0DAAa;QAAb,6EAAa;QAMf,0DAAa;QAAb,6EAAa;QAI1C,0DAAe;QAAf,wEAAe;;6FDjDN,gBAAgB;cAL5B,uDAAS;eAAC;gBACV,QAAQ,EAAE,aAAa;gBACvB,WAAW,EAAE,0BAA0B;gBACvC,SAAS,EAAE,CAAC,0BAA0B,CAAC;aACvC;iXAE2C,SAAS;kBAAnD,uDAAS;mBAAC,wEAAY,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE","file":"banners-banners-module-es2015.js","sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { ImageCroppedEvent } from 'ngx-image-cropper';\r\n\r\n@Component({\r\n\tselector: 'app-add',\r\n\ttemplateUrl: './add.component.html',\r\n\tstyleUrls: ['./add.component.scss'],\r\n})\r\nexport class AddComponent implements OnInit {\r\n\ttitle: string;\r\n\tmode: string;\r\n\tbanner: any = {};\r\n\r\n\timageChangedEvent: any = '';\r\n\tcroppedImage: any = '';\r\n\tconstructor(\r\n\t\tpublic dialogRef: MatDialogRef<AddComponent>,\r\n\t\t@Inject(MAT_DIALOG_DATA) public data: any\r\n\t) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tif (this.data && this.data.banner) {\r\n\t\t\tthis.banner = this.data.banner;\r\n\t\t\tthis.title = 'Update banner';\r\n\t\t\tthis.mode = 'Update';\r\n\t\t} else {\r\n\t\t\tthis.title = 'Add banner';\r\n\t\t\tthis.mode = 'Add';\r\n\t\t}\r\n\t}\r\n\r\n\tfileChangeEvent(event: any): void {\r\n\t\tthis.imageChangedEvent = event;\r\n\t\tthis.banner.image = '';\r\n\t}\r\n\timageCropped(event: ImageCroppedEvent) {\r\n\t\tthis.banner.image = event.base64;\r\n\t\tthis.banner.image_url = event.base64;\r\n\t}\r\n\r\n\timageChanged() {\r\n\t\tthis.banner.image = '';\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.dialogRef.close({ banner: this.banner, isEdit: false });\r\n\t}\r\n}\r\n","<form (ngSubmit)=\"onSubmit()\" #f=\"ngForm\">\r\n\t<div class=\"card card-custom\">\r\n\t\t<div class=\"card-header\">\r\n\t\t\t<div class=\"card-title\">{{ title }}</div>\r\n\t\t</div>\r\n\t\t<div class=\"card-body\">\r\n\t\t\t<div class=\"form-group row\">\r\n\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<input type=\"file\" (change)=\"fileChangeEvent($event)\" name=\"image\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"separator separator-dashed my-6\"></div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tclass=\"row images\"\r\n\t\t\t\t*ngIf=\"banner.image || banner.image_url || imageChangedEvent\"\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"col-lg-6 kt-margin-bottom-20-mobile\"\r\n\t\t\t\t\t*ngIf=\"imageChangedEvent\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<h3 *ngIf=\"imageChangedEvent\">Selected Image:</h3>\r\n\t\t\t\t\t<image-cropper\r\n\t\t\t\t\t\t[imageChangedEvent]=\"imageChangedEvent\"\r\n\t\t\t\t\t\t[maintainAspectRatio]=\"true\"\r\n\t\t\t\t\t\t[aspectRatio]=\"4 / 2\"\r\n\t\t\t\t\t\t[cropperMinWidth]=\"200\"\r\n\t\t\t\t\t\tformat=\"png\"\r\n\t\t\t\t\t\t(imageCropped)=\"imageCropped($event)\"\r\n\t\t\t\t\t></image-cropper>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-lg-6 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t<h3>{{ imageChangedEvent ? 'Cropped Image:' : 'banner' }}</h3>\r\n\t\t\t\t\t<div class=\"imagePreview\" *ngIf=\"banner.image\">\r\n\t\t\t\t\t\t<img [src]=\"banner.image\" class=\"img-fluid\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"imagePreview\" *ngIf=\"banner.image_url && !banner.image\">\r\n\t\t\t\t\t\t<img [src]=\"banner.image_url\" class=\"img-fluid\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"card-footer\">\r\n\t\t\t<button type=\"button\" mat-raised-button mat-dialog-close cdkFocusInitial>\r\n\t\t\t\tCancel</button\r\n\t\t\t>&nbsp;\r\n\t\t\t<button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tmat-raised-button\r\n\t\t\t\tclass=\"mr-2\"\r\n\t\t\t\t[disabled]=\"f.invalid || (f.pristine && !banner.image)\"\r\n\t\t\t>\r\n\t\t\t\t{{ mode }}\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n</form>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class BannersService {\r\n\tconstructor(private httpClient: HttpClient) {}\r\n\r\n\tgetBanners() {\r\n\t\treturn this.httpClient.get(`${environment.apiUrl}banners`);\r\n\t}\r\n\r\n\taddBanner(banner) {\r\n\t\treturn this.httpClient.post(`${environment.apiUrl}banners`, banner);\r\n\t}\r\n\r\n\tupdateBanner(banner) {\r\n\t\treturn this.httpClient.patch(\r\n\t\t\t`${environment.apiUrl}banners/` + banner.id,\r\n\t\t\tbanner\r\n\t\t);\r\n\t}\r\n\r\n\tdeleteBanner(id) {\r\n\t\treturn this.httpClient.delete(`${environment.apiUrl}banners/` + id);\r\n\t}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BannersComponent } from './banners.component';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\n\r\nimport { GeneralModule } from 'src/app/_metronic/partials/content/general/general.module';\r\nimport { AddComponent } from './add/add.component';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { ConfirmationDialogComponent } from '../_sharedComponents/confirmation-dialog/confirmation-dialog.component';\r\n\r\n@NgModule({\r\n\tdeclarations: [BannersComponent, AddComponent],\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tGeneralModule,\r\n\t\tMatButtonModule,\r\n\t\tMatTableModule,\r\n\t\tMatPaginatorModule,\r\n\t\tMatIconModule,\r\n\t\tMatProgressSpinnerModule,\r\n\t\tFormsModule,\r\n\t\tMatFormFieldModule,\r\n\t\tMatDialogModule,\r\n\t\tImageCropperModule,\r\n\t\tRouterModule.forChild([\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tcomponent: BannersComponent,\r\n\t\t\t},\r\n\t\t]),\r\n\t],\r\n\tentryComponents: [AddComponent, ConfirmationDialogComponent],\r\n})\r\nexport class BannersModule {}\r\n","import { ChangeDetectorRef, Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { AddComponent } from './add/add.component';\r\nimport { BannersService } from 'src/app/services/banners.service';\r\nimport { CommonService } from 'src/app/services/common.service';\r\nimport { ConfirmationDialogComponent } from '../_sharedComponents/confirmation-dialog/confirmation-dialog.component';\r\n\r\n@Component({\r\n\tselector: 'app-banners',\r\n\ttemplateUrl: './banners.component.html',\r\n\tstyleUrls: ['./banners.component.scss'],\r\n})\r\nexport class BannersComponent implements OnInit {\r\n\t@ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n\r\n\tdataSource: any;\r\n\tdisplayedColumns = ['image', 'actions'];\r\n\tbanners: any[] = [];\r\n\tloaded = false;\r\n\r\n\tconstructor(\r\n\t\tprivate bannersService: BannersService,\r\n\t\tprivate commonService: CommonService,\r\n\t\tprivate cdr: ChangeDetectorRef,\r\n\t\tpublic dialog: MatDialog\r\n\t) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.bannersService.getBanners().subscribe((response: any) => {\r\n\t\t\tthis.banners = response.banners;\r\n\t\t\tthis.renderBanners();\r\n\t\t\tthis.loaded = true;\r\n\t\t\tthis.cdr.detectChanges();\r\n\t\t});\r\n\t}\r\n\r\n\taddBanner() {\r\n\t\tconst dialogRef = this.dialog.open(AddComponent, {\r\n\t\t\twidth: '440px',\r\n\t\t\tdisableClose: true,\r\n\t\t});\r\n\r\n\t\tdialogRef.afterClosed().subscribe((res) => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.bannersService.addBanner(res.banner).subscribe(\r\n\t\t\t\t(response: any) => {\r\n\t\t\t\t\tthis.banners.push(response.banner);\r\n\t\t\t\t\tthis.commonService.openSnackBar(response.message);\r\n\t\t\t\t\tthis.renderBanners();\r\n\t\t\t\t},\r\n\t\t\t\t({ error }) => {\r\n\t\t\t\t\tthis.commonService.openSnackBar(error.message, 4000);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\trenderBanners() {\r\n\t\tthis.dataSource = new MatTableDataSource(this.banners);\r\n\t\tthis.dataSource.paginator = this.paginator;\r\n\t}\r\n\r\n\teditBanner(Banner: any) {\r\n\t\tconst dialogRef = this.dialog.open(AddComponent, {\r\n\t\t\tdata: { banner: Banner },\r\n\t\t\twidth: '440px',\r\n\t\t\tdisableClose: true,\r\n\t\t});\r\n\r\n\t\tdialogRef.afterClosed().subscribe((res) => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.bannersService.updateBanner(res.banner).subscribe(\r\n\t\t\t\t(response: any) => {\r\n\t\t\t\t\tBanner = res.banner;\r\n\t\t\t\t\tthis.commonService.openSnackBar(response.message);\r\n\t\t\t\t\tthis.renderBanners();\r\n\t\t\t\t},\r\n\t\t\t\t({ error }) => {\r\n\t\t\t\t\tthis.commonService.openSnackBar(error.message, 4000);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tdeleteBanner(id, index) {\r\n\t\tconst dialogRef = this.dialog.open(ConfirmationDialogComponent, {\r\n\t\t\tdata: { title: 'Delete banner', message: 'Are you sure?' },\r\n\t\t\twidth: '440px',\r\n\t\t\tdisableClose: true,\r\n\t\t});\r\n\r\n\t\tdialogRef.afterClosed().subscribe((res) => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (res.confirm) {\r\n\t\t\t\tthis.bannersService.deleteBanner(id).subscribe(\r\n\t\t\t\t\t(response: any) => {\r\n\t\t\t\t\t\tthis.banners.splice(index, 1);\r\n\t\t\t\t\t\tthis.renderBanners();\r\n\t\t\t\t\t\tthis.commonService.openSnackBar(response.message);\r\n\t\t\t\t\t},\r\n\t\t\t\t\t({ error }) => {\r\n\t\t\t\t\t\tthis.commonService.openSnackBar(error.message, 4000);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","<div class=\"card card-custom\">\r\n\t<div class=\"card-header\">\r\n\t\t<div class=\"card-title\">\r\n\t\t\t<h3>Banners</h3>\r\n\t\t</div>\r\n\t\t<div class=\"card-toolbar\">\r\n\t\t\t<button class=\"btn btn-primary\" (click)=\"addBanner()\">Add Banners</button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"card-body\">\r\n\t\t<div class=\"mat-table-wrapper\">\r\n\t\t\t<mat-table #table [dataSource]=\"dataSource\">\r\n\t\t\t\t<!--- Note that these columns can be defined in any order.\r\n\t\t\t\tThe actual rendered columns are set as a property on the row definition\" -->\r\n\t\t\t\t<!-- Image Column -->\r\n\t\t\t\t<ng-container matColumnDef=\"image\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Image </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let banner\">\r\n\t\t\t\t\t\t<img [src]=\"banner.image_url\" class=\"img-fluid w-25\" />\r\n\t\t\t\t\t</mat-cell>\r\n\t\t\t\t</ng-container>\r\n\t\t\t\t<!-- Weight Column -->\r\n\t\t\t\t<ng-container matColumnDef=\"actions\">\r\n\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>\r\n\t\t\t\t\t<mat-cell *matCellDef=\"let banner; let index = index\"\r\n\t\t\t\t\t\t><button\r\n\t\t\t\t\t\t\tmat-icon-button\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tmatTooltip=\"Edit user\"\r\n\t\t\t\t\t\t\t(click)=\"editBanner(banner)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<mat-icon>create</mat-icon></button\r\n\t\t\t\t\t\t>&nbsp;\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tmat-icon-button\r\n\t\t\t\t\t\t\tcolor=\"warn\"\r\n\t\t\t\t\t\t\tmatTooltip=\"Delete user\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t(click)=\"deleteBanner(banner.id, index)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<mat-icon>delete</mat-icon>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</mat-cell>\r\n\t\t\t\t</ng-container>\r\n\t\t\t\t<!-- Symbol Column -->\r\n\t\t\t\t<mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n\t\t\t\t<mat-row *matRowDef=\"let row; columns: displayedColumns\"></mat-row>\r\n\t\t\t</mat-table>\r\n\r\n\t\t\t<!-- Message for empty data  -->\r\n\t\t\t<div class=\"mat-table-message\" *ngIf=\"loaded && banners.length == 0\">\r\n\t\t\t\tNo records found\r\n\t\t\t</div>\r\n\t\t\t<div class=\"mat-table-message\" *ngIf=\"!loaded\">Please wait....</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- start: BOTTOM -->\r\n\t\t<div class=\"mat-table-bottom\">\r\n\t\t\t<!-- MATERIAL SPINNER | Url: 'https://material.angular.io/components/progress-spinner/overview' -->\r\n\t\t\t<mat-spinner [diameter]=\"20\" *ngIf=\"!loaded\"></mat-spinner>\r\n\t\t\t<!-- MATERIAL PAGINATOR | Binded to dasources -->\r\n\t\t\t<!-- See off.documentations 'https://material.angular.io/components/paginator/overview' -->\r\n\t\t\t<mat-paginator\r\n\t\t\t\t[pageSize]=\"10\"\r\n\t\t\t\t[pageSizeOptions]=\"[5, 10, 20]\"\r\n\t\t\t\t[showFirstLastButtons]=\"true\"\r\n\t\t\t></mat-paginator>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}