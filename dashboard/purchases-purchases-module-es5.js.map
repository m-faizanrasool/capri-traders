{"version":3,"sources":["webpack:///src/app/pages/purchases/purchases.component.ts","webpack:///src/app/pages/purchases/purchases.component.html","webpack:///src/app/pages/purchases/purchases.module.ts","webpack:///src/app/pages/purchases/edit/edit.component.ts","webpack:///src/app/pages/purchases/edit/edit.component.html"],"names":["PurchasesComponent","productsService","commonService","cdr","dialog","company_heads","id","name","products","pay_modes","pay_statuses","sale","company_head","bill_no","po_no","grn","party_name","pay_mode","remarks","pay_status","selectedProduct","quantity","rate","dataSource","sale_items","pageSize","displayedColumns","loaded","getCreateProductParams","subscribe","response","productData","getAllProducts","handleResponse","bind","detectChanges","console","log","dialogRef","open","data","paramsData","disableClose","afterClosed","res","product","find","findProduct","push","filter","Product","width","addProduct","onSubmit","AddProductToSaleItems","selector","templateUrl","styleUrls","PurchasesModule","provide","useValue","hasBackdrop","panelClass","height","forChild","path","component","children","pathMatch","declarations","imports","providers","entryComponents","EditComponent","title","mode","close","isEdit"],"mappings":"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","file":"purchases-purchases-module-es5.js","sourcesContent":["import { Component, OnInit, ChangeDetectorRef, ViewChild } from '@angular/core';\r\n\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { AddProductDialogComponent } from '../products/list/add-product-dialog/add-product-dialog.component';\r\nimport { EditComponent } from './edit/edit.component';\r\nimport { CommonService } from 'src/app/services/common.service';\r\nimport {\r\n\tProductQuery,\r\n\tProductsService,\r\n} from 'src/app/services/products.service';\r\n\r\nimport { MatTableDataSource } from '@angular/material/table';\r\n\r\n@Component({\r\n\tselector: 'app-purchases',\r\n\ttemplateUrl: './purchases.component.html',\r\n\tstyleUrls: ['./purchases.component.scss'],\r\n})\r\nexport class PurchasesComponent implements OnInit {\r\n\tproductData: any;\r\n\tqueryParams: ProductQuery;\r\n\r\n\tcompany_heads: any = [\r\n\t\t{ id: 1, name: 'Capri Traders' },\r\n\t\t{ id: 2, name: 'Capri Traders2' },\r\n\t\t{ id: 3, name: 'Capri Traders3' },\r\n\t];\r\n\r\n\tproducts: any = [];\r\n\r\n\tpay_modes: any = [{ name: 'credit' }, { name: 'cash' }];\r\n\tpay_statuses: any = [{ name: 'pending' }, { name: 'done' }];\r\n\r\n\tsale: any = {\r\n\t\tcompany_head: '',\r\n\t\tbill_no: '',\r\n\t\tpo_no: '',\r\n\t\tgrn: '',\r\n\t\tparty_name: '',\r\n\t\tpay_mode: '',\r\n\t\tremarks: '',\r\n\t\tpay_status: '',\r\n\t};\r\n\r\n\tselectedProduct: any = {\r\n\t\tid: '',\r\n\t\tquantity: '',\r\n\t\trate: '',\r\n\t};\r\n\r\n\tdataSource = new MatTableDataSource([]);\r\n\r\n\tsale_items: any = [];\r\n\tpageSize = 10;\r\n\ttotalProducts: number;\r\n\r\n\tdisplayedColumns = [\r\n\t\t'name',\r\n\t\t'brand',\r\n\t\t'quantity',\r\n\t\t'rate',\r\n\t\t'discount',\r\n\t\t'description',\r\n\t\t'image',\r\n\t\t'actions',\r\n\t];\r\n\r\n\tloaded: boolean = false;\r\n\r\n\tconstructor(\r\n\t\tprivate productsService: ProductsService,\r\n\t\tprivate commonService: CommonService,\r\n\t\tprivate cdr: ChangeDetectorRef,\r\n\t\tpublic dialog: MatDialog\r\n\t) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.productsService.getCreateProductParams().subscribe((response) => {\r\n\t\t\tthis.productData = response;\r\n\t\t});\r\n\t\tthis.productsService\r\n\t\t\t.getAllProducts()\r\n\t\t\t.subscribe(this.handleResponse.bind(this));\r\n\t}\r\n\thandleResponse(response: any) {\r\n\t\tthis.products = response.products;\r\n\t\tthis.loaded = true;\r\n\t\tthis.cdr.detectChanges();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tconsole.log(this.sale);\r\n\t}\r\n\r\n\taddProduct() {\r\n\t\tconst dialogRef = this.dialog.open(AddProductDialogComponent, {\r\n\t\t\tdata: { paramsData: this.productData },\r\n\t\t\tdisableClose: true,\r\n\t\t});\r\n\r\n\t\tdialogRef.afterClosed().subscribe((res) => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tAddProductToSaleItems() {\r\n\t\tconst product = this.products.find(\r\n\t\t\t(product: any) => product.id == this.selectedProduct.id\r\n\t\t);\r\n\r\n\t\t// check if product already added to sale items\r\n\t\tconst findProduct = this.sale_items.find(\r\n\t\t\t(product: any) => product.id == this.selectedProduct.id\r\n\t\t);\r\n\r\n\t\tif (!findProduct) {\r\n\t\t\tproduct.rate = this.selectedProduct.rate;\r\n\t\t\tproduct.quantity = this.selectedProduct.quantity;\r\n\r\n\t\t\tthis.sale_items.push(product);\r\n\t\t\t// Refreshing Data Source\r\n\t\t\tthis.dataSource.data = this.sale_items;\r\n\t\t\tthis.cdr.detectChanges();\r\n\t\t\tthis.loaded = true;\r\n\t\t}\r\n\t}\r\n\r\n\tremoveFromSaleItems(id) {\r\n\t\tthis.sale_items = this.sale_items.filter(function (product) {\r\n\t\t\treturn product.id != id;\r\n\t\t});\r\n\t\tthis.dataSource.data = this.sale_items;\r\n\t}\r\n\r\n\teditSaleItemsProduct(Product) {\r\n\t\tconst dialogRef = this.dialog.open(EditComponent, {\r\n\t\t\tdata: { product: Product },\r\n\t\t\twidth: '440px',\r\n\t\t\tdisableClose: true,\r\n\t\t});\r\n\r\n\t\tdialogRef.afterClosed().subscribe((res) => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst product = this.sale_items.find(\r\n\t\t\t\t(product: any) => product.id == this.selectedProduct.id\r\n\t\t\t);\r\n\t\t\tproduct.quantity = res.product.quantity;\r\n\t\t\tproduct.rate = res.product.rate;\r\n\r\n\t\t\tthis.dataSource.data = this.sale_items;\r\n\t\t\tthis.cdr.detectChanges();\r\n\t\t});\r\n\t}\r\n}\r\n","<div class=\"card card-custom\">\r\n\t<div class=\"card-header\">\r\n\t\t<div class=\"card-title\">\r\n\t\t\t<h3>Sales</h3>\r\n\t\t</div>\r\n\t\t<div class=\"card-toolbar\">\r\n\t\t\t<button class=\"btn btn-primary\" (click)=\"addProduct()\">\r\n\t\t\t\tAdd Product\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div>\r\n\t\t<form class=\"form\" (ngSubmit)=\"onSubmit()\" #f=\"ngForm\">\r\n\t\t\t<!-- Sales Form Start -->\r\n\t\t\t<div class=\"card-body\">\r\n\t\t\t\t<div class=\"card-body-progress\">\r\n\t\t\t\t\t<mat-spinner [diameter]=\"20\"></mat-spinner>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form-group row\">\r\n\t\t\t\t\t<div class=\"col-lg-6 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<mat-select\r\n\t\t\t\t\t\t\t\tplaceholder=\"Company Head\"\r\n\t\t\t\t\t\t\t\tname=\"company_head\"\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"sale.company_head\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<mat-option\r\n\t\t\t\t\t\t\t\t\t*ngFor=\"let company_head of company_heads\"\r\n\t\t\t\t\t\t\t\t\t[value]=\"company_head.id\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{ company_head.name }}\r\n\t\t\t\t\t\t\t\t</mat-option>\r\n\t\t\t\t\t\t\t</mat-select>\r\n\t\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\t\tCompany Head is\r\n\t\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col-lg-2 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\t\tplaceholder=\"Bill/Ref#\"\r\n\t\t\t\t\t\t\t\tname=\"bill_no\"\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"sale.bill_no\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col-lg-2 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\t\tplaceholder=\"PO#\"\r\n\t\t\t\t\t\t\t\tname=\"po_no\"\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"sale.po_no\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col-lg-2 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\t\tplaceholder=\"GRN\"\r\n\t\t\t\t\t\t\t\tname=\"grn\"\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"sale.grn\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form-group row\">\r\n\t\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Party Name\"\r\n\t\t\t\t\t\t\t\tname=\"sale.party_name\"\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"sale.party_name\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\t\tParty Name is\r\n\t\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col-lg-2 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<mat-select\r\n\t\t\t\t\t\t\t\tplaceholder=\"Pay Mode\"\r\n\t\t\t\t\t\t\t\tname=\"pay_mode\"\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"sale.pay_mode\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<mat-option\r\n\t\t\t\t\t\t\t\t\t*ngFor=\"let pay_mode of pay_modes\"\r\n\t\t\t\t\t\t\t\t\t[value]=\"pay_mode.name\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{ pay_mode.name }}\r\n\t\t\t\t\t\t\t\t</mat-option>\r\n\t\t\t\t\t\t\t</mat-select>\r\n\t\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col-lg-2 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<mat-select\r\n\t\t\t\t\t\t\t\tplaceholder=\"Pay Status\"\r\n\t\t\t\t\t\t\t\tname=\"pay_status\"\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"sale.pay_status\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<mat-option\r\n\t\t\t\t\t\t\t\t\t*ngFor=\"let pay_status of pay_statuses\"\r\n\t\t\t\t\t\t\t\t\t[value]=\"pay_status.name\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{ pay_status.name }}\r\n\t\t\t\t\t\t\t\t</mat-option>\r\n\t\t\t\t\t\t\t</mat-select>\r\n\t\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col-lg-4 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Remarks\"\r\n\t\t\t\t\t\t\t\tname=\"remarks\"\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"sale.remarks\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form-group row\">\r\n\t\t\t\t\t<div class=\"col-lg-3 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<mat-select\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"selectedProduct.id\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter Item\"\r\n\t\t\t\t\t\t\t\tname=\"product\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<mat-option\r\n\t\t\t\t\t\t\t\t\t*ngFor=\"let product of products\"\r\n\t\t\t\t\t\t\t\t\t[value]=\"product.id\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{ product.name }}\r\n\t\t\t\t\t\t\t\t</mat-option>\r\n\t\t\t\t\t\t\t</mat-select>\r\n\t\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\t\tItem is\r\n\t\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col-lg-2 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Quantity\"\r\n\t\t\t\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"selectedProduct.quantity\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\t\tQuantity is\r\n\t\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col-lg-2 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<mat-form-field class=\"mat-form-field-fluid\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tmatInput\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Rate\"\r\n\t\t\t\t\t\t\t\tname=\"rate\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"selectedProduct.rate\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<mat-error>\r\n\t\t\t\t\t\t\t\tRate is\r\n\t\t\t\t\t\t\t\t<strong>required</strong>\r\n\t\t\t\t\t\t\t</mat-error>\r\n\t\t\t\t\t\t</mat-form-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-lg-2 kt-margin-bottom-20-mobile\">\r\n\t\t\t\t\t\t<button (click)=\"AddProductToSaleItems()\" class=\"btn btn-primary\">\r\n\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button class=\"ml-2 btn btn-danger\">Remove</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"separator separator-dashed my-6\"></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- Sales Form End -->\r\n\r\n\t\t\t<!-- Product Details Table Start -->\r\n\t\t\t<div class=\"card-body\">\r\n\t\t\t\t<div class=\"mat-table-wrapper\">\r\n\t\t\t\t\t<mat-table #table [dataSource]=\"dataSource\">\r\n\t\t\t\t\t\t<!--- Note that these columns can be defined in any order.\r\n\t\t\t\tThe actual rendered columns are set as a property on the row definition\" -->\r\n\t\t\t\t\t\t<!-- Name Column -->\r\n\t\t\t\t\t\t<ng-container matColumnDef=\"name\">\r\n\t\t\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Name </mat-header-cell>\r\n\t\t\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t\t\t{{ element.name }}\r\n\t\t\t\t\t\t\t</mat-cell>\r\n\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t<ng-container matColumnDef=\"brand\">\r\n\t\t\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Brand </mat-header-cell>\r\n\t\t\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t\t\t{{ element.brand ? element.brand.name : '' }}\r\n\t\t\t\t\t\t\t</mat-cell>\r\n\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t<ng-container matColumnDef=\"quantity\">\r\n\t\t\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Quantity </mat-header-cell>\r\n\t\t\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t\t\t{{ element.quantity }}\r\n\t\t\t\t\t\t\t</mat-cell>\r\n\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t<ng-container matColumnDef=\"rate\">\r\n\t\t\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Rate </mat-header-cell>\r\n\t\t\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t\t\t{{ element.rate }}\r\n\t\t\t\t\t\t\t</mat-cell>\r\n\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t<ng-container matColumnDef=\"discount\">\r\n\t\t\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Discount </mat-header-cell>\r\n\t\t\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t\t\t{{ element.discount }}\r\n\t\t\t\t\t\t\t</mat-cell>\r\n\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t<ng-container matColumnDef=\"description\">\r\n\t\t\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Description </mat-header-cell>\r\n\t\t\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t\t\t{{ element.description }}\r\n\t\t\t\t\t\t\t</mat-cell>\r\n\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t<ng-container matColumnDef=\"image\">\r\n\t\t\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Image </mat-header-cell>\r\n\t\t\t\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t\t\t\t<img [src]=\"element.image_url\" class=\"img-fluid w-75\" />\r\n\t\t\t\t\t\t\t</mat-cell>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t<!-- Actions Column -->\r\n\t\t\t\t\t\t<ng-container matColumnDef=\"actions\">\r\n\t\t\t\t\t\t\t<mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>\r\n\t\t\t\t\t\t\t<mat-cell *matCellDef=\"let product; let index = index\">\r\n\t\t\t\t\t\t\t\t<button mat-icon-button color=\"primary\" (click)=\"editSaleItemsProduct(product)\">\r\n\t\t\t\t\t\t\t\t\t<mat-icon>create</mat-icon></button\r\n\t\t\t\t\t\t\t\t>&nbsp;\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tmat-icon-button\r\n\t\t\t\t\t\t\t\t\tcolor=\"warn\"\r\n\t\t\t\t\t\t\t\t\t(click)=\"removeFromSaleItems(product.id)\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<mat-icon>delete</mat-icon>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</mat-cell>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t<!-- Symbol Column -->\r\n\t\t\t\t\t\t<mat-header-row\r\n\t\t\t\t\t\t\t*matHeaderRowDef=\"displayedColumns\"\r\n\t\t\t\t\t\t></mat-header-row>\r\n\t\t\t\t\t\t<mat-row *matRowDef=\"let row; columns: displayedColumns\"></mat-row>\r\n\t\t\t\t\t</mat-table>\r\n\r\n\t\t\t\t\t<!-- Message for empty data  -->\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"mat-table-message\"\r\n\t\t\t\t\t\t*ngIf=\"loaded && dataSource.data.length == 0\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tNo records found\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"mat-table-message\"\r\n\t\t\t\t\t\t*ngIf=\"!loaded && !dataSource.data.length\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPlease wait....\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- start: BOTTOM -->\r\n\t\t\t\t<div class=\"mat-table-bottom\">\r\n\t\t\t\t\t<!-- MATERIAL SPINNER | Url: 'https://material.angular.io/components/progress-spinner/overview' -->\r\n\t\t\t\t\t<mat-spinner [diameter]=\"20\" *ngIf=\"!loaded\"></mat-spinner>\r\n\t\t\t\t\t<!-- MATERIAL PAGINATOR | Binded to dasources -->\r\n\t\t\t\t\t<!-- See off.documentations 'https://material.angular.io/components/paginator/overview' -->\r\n\t\t\t\t\t<mat-paginator\r\n\t\t\t\t\t\t[pageSize]=\"pageSize\"\r\n\t\t\t\t\t\t[showFirstLastButtons]=\"true\"\r\n\t\t\t\t\t\t[length]=\"totalProducts\"\r\n\t\t\t\t\t></mat-paginator>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- Product Details Table End -->\r\n\t\t\t<div class=\"card-footer\">\r\n\t\t\t\t<div class=\"d-flex justify-content-between\">\r\n\t\t\t\t\t<div class=\"mr-2\"></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tmat-raised-button\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t(click)=\"onSubmit()\"\r\n\t\t\t\t\t\t\t[disabled]=\"f.invalid || f.pristine\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { PurchasesComponent } from './purchases.component';\r\nimport { EditComponent } from './edit/edit.component';\r\n\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { GeneralModule } from 'src/app/_metronic/partials/content/general/general.module';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport {\r\n\tMatDialogModule,\r\n\tMAT_DIALOG_DEFAULT_OPTIONS,\r\n} from '@angular/material/dialog';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\nimport { ConfirmationDialogComponent } from '../_sharedComponents/confirmation-dialog/confirmation-dialog.component';\r\n\r\n@NgModule({\r\n\tdeclarations: [PurchasesComponent, EditComponent],\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tMatButtonModule,\r\n\t\tMatTableModule,\r\n\t\tMatPaginatorModule,\r\n\t\tMatProgressSpinnerModule,\r\n\t\tMatIconModule,\r\n\t\tGeneralModule,\r\n\t\tMatDialogModule,\r\n\t\tFormsModule,\r\n\t\tReactiveFormsModule,\r\n\t\tMatButtonModule,\r\n\t\tMatSelectModule,\r\n\t\tMatInputModule,\r\n\t\tNgSelectModule,\r\n\t\tRouterModule.forChild([\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tcomponent: PurchasesComponent,\r\n\t\t\t\tchildren: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: '',\r\n\t\t\t\t\t\tpathMatch: 'full',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t]),\r\n\t],\r\n\tproviders: [\r\n\t\t{\r\n\t\t\tprovide: MAT_DIALOG_DEFAULT_OPTIONS,\r\n\t\t\tuseValue: {\r\n\t\t\t\thasBackdrop: true,\r\n\t\t\t\tpanelClass: 'mat-dialog-container-wrapper',\r\n\t\t\t\theight: 'auto',\r\n\t\t\t\twidth: '900px',\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tentryComponents: [ConfirmationDialogComponent, EditComponent],\r\n})\r\nexport class PurchasesModule {}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n@Component({\r\n\tselector: 'app-edit',\r\n\ttemplateUrl: './edit.component.html',\r\n\tstyleUrls: ['./edit.component.scss'],\r\n})\r\nexport class EditComponent implements OnInit {\r\n\ttitle: string;\r\n\tmode: string;\r\n\tproduct = { quantity: '', rate: '', id: '' };\r\n\tconstructor(\r\n\t\tpublic dialogRef: MatDialogRef<EditComponent>,\r\n\t\t@Inject(MAT_DIALOG_DATA) public data: any\r\n\t) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tif (this.data && this.data.product) {\r\n\t\t\tthis.product = this.data.product;\r\n\t\t\tthis.title = 'Update Quantity or Rate';\r\n\t\t\tthis.mode = 'Update';\r\n\t\t} else {\r\n\t\t\tthis.title = 'Add product';\r\n\t\t\tthis.mode = 'Add';\r\n\t\t}\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.dialogRef.close({ product: this.product, isEdit: false });\r\n\t}\r\n}\r\n","<form (ngSubmit)=\"onSubmit()\" #f=\"ngForm\">\r\n\t<div class=\"card card-custom\">\r\n\t\t<div class=\"card-header\">\r\n\t\t\t<div class=\"card-title\">{{ title }}</div>\r\n\t\t</div>\r\n\t\t<div class=\"card-body\">\r\n\t\t\t<div class=\"form-group\">\r\n\t\t\t\t<label>Quantity:</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Quantity\"\r\n\t\t\t\t\t[(ngModel)]=\"product.quantity\"\r\n\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"form-group\">\r\n\t\t\t\t<label>Rate:</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Rate\"\r\n\t\t\t\t\t[(ngModel)]=\"product.rate\"\r\n\t\t\t\t\tname=\"rate\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"card-footer\">\r\n\t\t\t<button type=\"button\" mat-raised-button mat-dialog-close cdkFocusInitial>\r\n\t\t\t\tCancel</button\r\n\t\t\t>&nbsp;\r\n\t\t\t<button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tmat-raised-button\r\n\t\t\t\tclass=\"mr-2\"\r\n\t\t\t\t[disabled]=\"f.invalid\"\r\n\t\t\t>\r\n\t\t\t\t{{ mode }}\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n</form>\r\n"]}