!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{U5Jw:function(t,o,i){"use strict";i.r(o),i.d(o,"CategoriesModule",function(){return F});var n,c,r=i("ofXK"),s=i("M9IT"),d=i("+0xr"),b=i("zyfY"),u=i("0IaG"),l=i("fXoL"),m=i("3Pt+"),f=i("bTqV"),g=((n=function(){function t(a,o){e(this,t),this.dialogRef=a,this.data=o,this.category={name:"",id:""}}return a(t,[{key:"ngOnInit",value:function(){this.data&&this.data.category?(this.category=this.data.category,this.title="Update category",this.mode="Update"):(this.title="Add category",this.mode="Add")}},{key:"onSubmit",value:function(){this.dialogRef.close({category:this.category,isEdit:!1})}}]),t}()).\u0275fac=function(e){return new(e||n)(l.Nb(u.f),l.Nb(u.a))},n.\u0275cmp=l.Hb({type:n,selectors:[["app-add"]],decls:15,vars:4,consts:[[3,"ngSubmit"],["f","ngForm"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"form-group"],["placeholder","Name","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],["type","button","mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["type","submit","color","primary","mat-raised-button","",1,"mr-2",3,"disabled"]],template:function(e,t){if(1&e&&(l.Tb(0,"form",0,1),l.dc("ngSubmit",function(){return t.onSubmit()}),l.Tb(2,"div",2),l.Tb(3,"div",3),l.Tb(4,"div",4),l.Lc(5),l.Sb(),l.Sb(),l.Tb(6,"div",5),l.Tb(7,"div",6),l.Tb(8,"input",7),l.dc("ngModelChange",function(e){return t.category.name=e}),l.Sb(),l.Sb(),l.Sb(),l.Tb(9,"div",8),l.Tb(10,"button",9),l.Lc(11," Cancel"),l.Sb(),l.Lc(12,"\xa0 "),l.Tb(13,"button",10),l.Lc(14),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&e){var a=l.xc(1);l.Ab(5),l.Mc(t.title),l.Ab(3),l.oc("ngModel",t.category.name),l.Ab(5),l.oc("disabled",a.invalid),l.Ab(1),l.Nc(" ",t.mode," ")}},directives:[m.y,m.o,m.p,m.c,m.u,m.n,m.q,f.b,u.d],styles:[".card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),n),p=i("AytR"),h=i("tk/3"),y=((c=function(){function t(a){e(this,t),this.httpClient=a}return a(t,[{key:"getCategories",value:function(){return this.httpClient.get(p.a.apiUrl+"categories")}},{key:"addCategory",value:function(e){return this.httpClient.post(p.a.apiUrl+"categories",e)}},{key:"updateCategory",value:function(e){return this.httpClient.patch(p.a.apiUrl+"categories/"+e.id,e)}},{key:"deleteCategory",value:function(e){return this.httpClient.delete(p.a.apiUrl+"categories/"+e)}}]),t}()).\u0275fac=function(e){return new(e||c)(l.ac(h.c))},c.\u0275prov=l.Jb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),v=i("OlR4"),S=i("NFeN"),C=i("Xa2L");function w(e,t){1&e&&(l.Tb(0,"mat-header-cell"),l.Lc(1," Name "),l.Sb())}function T(e,t){if(1&e&&(l.Tb(0,"mat-cell"),l.Lc(1),l.Sb()),2&e){var a=t.$implicit;l.Ab(1),l.Nc(" ",a.name," ")}}function k(e,t){1&e&&(l.Tb(0,"mat-header-cell"),l.Lc(1," Actions "),l.Sb())}function L(e,t){if(1&e){var a=l.Ub();l.Tb(0,"mat-cell"),l.Tb(1,"button",19),l.dc("click",function(){l.Bc(a);var e=t.$implicit;return l.hc().editCategory(e)}),l.Tb(2,"mat-icon"),l.Lc(3,"create"),l.Sb(),l.Sb(),l.Lc(4,"\xa0 "),l.Tb(5,"button",20),l.dc("click",function(){l.Bc(a);var e=t.$implicit,o=t.index;return l.hc().deleteCategory(e.id,o)}),l.Tb(6,"mat-icon"),l.Lc(7,"delete"),l.Sb(),l.Sb(),l.Sb()}}function A(e,t){1&e&&l.Ob(0,"mat-header-row")}function N(e,t){1&e&&l.Ob(0,"mat-row")}function J(e,t){1&e&&(l.Tb(0,"div",21),l.Lc(1," No records found "),l.Sb())}function D(e,t){1&e&&(l.Tb(0,"div",21),l.Lc(1,"Please wait...."),l.Sb())}function I(e,t){1&e&&l.Ob(0,"mat-spinner",22),2&e&&l.oc("diameter",20)}var O,R,B=function(){return[5,10,20]},M=((O=function(){function t(a,o,i,n){e(this,t),this.categoriesService=a,this.commonService=o,this.cdr=i,this.dialog=n,this.loaded=!1,this.displayedColumns=["name","actions"],this.categories=[]}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.categoriesService.getCategories().subscribe(function(t){e.categories=t.categories,e.renderCategories(),e.loaded=!0,e.cdr.detectChanges()})}},{key:"renderCategories",value:function(){this.dataSource=new d.k(this.categories),this.dataSource.paginator=this.paginator}},{key:"addCategory",value:function(){var e=this;this.dialog.open(g,{width:"440px",disableClose:!0}).afterClosed().subscribe(function(t){t&&e.categoriesService.addCategory(t.category).subscribe(function(t){e.categories.push(t.category),e.commonService.openSnackBar(t.message),e.renderCategories()},function(t){var a=t.error;e.commonService.openSnackBar(a.errors.name[0],4e3)})})}},{key:"editCategory",value:function(e){var t=this;this.dialog.open(g,{data:{category:e},width:"440px",disableClose:!0}).afterClosed().subscribe(function(a){a&&t.categoriesService.updateCategory(a.category).subscribe(function(o){e=a.category,t.commonService.openSnackBar(o.message)},function(e){var a=e.error;t.commonService.openSnackBar(a.errors.name[0],4e3)})})}},{key:"deleteCategory",value:function(e,t){var a=this;this.dialog.open(b.a,{data:{title:"Delete category",message:"Are you sure?"},width:"440px",disableClose:!0}).afterClosed().subscribe(function(o){o&&o.confirm&&a.categoriesService.deleteCategory(e).subscribe(function(e){a.categories.splice(t,1),a.renderCategories(),a.commonService.openSnackBar(e.message)},function(e){var t=e.error;a.commonService.openSnackBar(t.message,4e3)})})}}]),t}()).\u0275fac=function(e){return new(e||O)(l.Nb(y),l.Nb(v.a),l.Nb(l.h),l.Nb(u.c))},O.\u0275cmp=l.Hb({type:O,selectors:[["app-categories"]],viewQuery:function(e,t){var a;1&e&&l.Fc(s.a,!0),2&e&&l.wc(a=l.ec())&&(t.paginator=a.first)},decls:25,vars:10,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"mat-table-wrapper"],[3,"dataSource"],["table",""],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","mat-table-message",4,"ngIf"],[1,"mat-table-bottom"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["mat-icon-button","","color","primary","matTooltip","Edit user",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete user","type","button",3,"click"],[1,"mat-table-message"],[3,"diameter"]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Tb(1,"div",1),l.Tb(2,"div",2),l.Tb(3,"h3"),l.Lc(4,"Categories"),l.Sb(),l.Sb(),l.Tb(5,"div",3),l.Tb(6,"button",4),l.dc("click",function(){return t.addCategory()}),l.Lc(7," Add Category "),l.Sb(),l.Sb(),l.Sb(),l.Tb(8,"div",5),l.Tb(9,"div",6),l.Tb(10,"mat-table",7,8),l.Rb(12,9),l.Jc(13,w,2,0,"mat-header-cell",10),l.Jc(14,T,2,1,"mat-cell",11),l.Qb(),l.Rb(15,12),l.Jc(16,k,2,0,"mat-header-cell",10),l.Jc(17,L,8,0,"mat-cell",11),l.Qb(),l.Jc(18,A,1,0,"mat-header-row",13),l.Jc(19,N,1,0,"mat-row",14),l.Sb(),l.Jc(20,J,2,0,"div",15),l.Jc(21,D,2,0,"div",15),l.Sb(),l.Tb(22,"div",16),l.Jc(23,I,1,1,"mat-spinner",17),l.Ob(24,"mat-paginator",18),l.Sb(),l.Sb(),l.Sb()),2&e&&(l.Ab(10),l.oc("dataSource",t.dataSource),l.Ab(8),l.oc("matHeaderRowDef",t.displayedColumns),l.Ab(1),l.oc("matRowDefColumns",t.displayedColumns),l.Ab(1),l.oc("ngIf",t.loaded&&0==t.categories.length),l.Ab(1),l.oc("ngIf",!t.loaded),l.Ab(2),l.oc("ngIf",!t.loaded),l.Ab(1),l.oc("pageSize",10)("pageSizeOptions",l.rc(9,B))("showFirstLastButtons",!0))},directives:[d.j,d.c,d.e,d.b,d.g,d.i,r.n,s.a,d.d,d.a,f.b,S.a,d.f,d.h,C.b],styles:[""]}),O),U=i("tyNb"),x=i("93Pz"),z=i("kmnG"),F=((R=function t(){e(this,t)}).\u0275mod=l.Lb({type:R}),R.\u0275inj=l.Kb({factory:function(e){return new(e||R)},imports:[[r.c,x.a,f.c,d.l,s.b,S.b,C.a,m.j,z.e,u.e,U.k.forChild([{path:"",component:M}])]]}),R)}}])}();