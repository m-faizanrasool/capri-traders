!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{bLbe:function(t,a,r){"use strict";r.r(a),r.d(a,"BrandsModule",function(){return z});var i,o,c=r("ofXK"),d=r("M9IT"),b=r("+0xr"),s=r("0IaG"),l=r("fXoL"),u=r("3Pt+"),m=r("bTqV"),f=((i=function(){function t(n,a){e(this,t),this.dialogRef=n,this.data=a,this.brand={name:"",id:""}}return n(t,[{key:"ngOnInit",value:function(){this.data&&this.data.brand?(this.brand=this.data.brand,this.title="Update brand",this.mode="Update"):(this.title="Add brand",this.mode="Add")}},{key:"onSubmit",value:function(){this.dialogRef.close({brand:this.brand,isEdit:!1})}}]),t}()).\u0275fac=function(e){return new(e||i)(l.Nb(s.f),l.Nb(s.a))},i.\u0275cmp=l.Hb({type:i,selectors:[["app-add"]],decls:15,vars:4,consts:[[3,"ngSubmit"],["f","ngForm"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"form-group"],["placeholder","Name","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],["type","button","mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["type","submit","color","primary","mat-raised-button","",1,"mr-2",3,"disabled"]],template:function(e,t){if(1&e&&(l.Tb(0,"form",0,1),l.dc("ngSubmit",function(){return t.onSubmit()}),l.Tb(2,"div",2),l.Tb(3,"div",3),l.Tb(4,"div",4),l.Lc(5),l.Sb(),l.Sb(),l.Tb(6,"div",5),l.Tb(7,"div",6),l.Tb(8,"input",7),l.dc("ngModelChange",function(e){return t.brand.name=e}),l.Sb(),l.Sb(),l.Sb(),l.Tb(9,"div",8),l.Tb(10,"button",9),l.Lc(11," Cancel"),l.Sb(),l.Lc(12,"\xa0 "),l.Tb(13,"button",10),l.Lc(14),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&e){var n=l.xc(1);l.Ab(5),l.Mc(t.title),l.Ab(3),l.oc("ngModel",t.brand.name),l.Ab(5),l.oc("disabled",n.invalid),l.Ab(1),l.Nc(" ",t.mode," ")}},directives:[u.y,u.o,u.p,u.c,u.u,u.n,u.q,m.b,s.d],styles:[".card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),i),p=r("zyfY"),h=r("AytR"),v=r("tk/3"),S=((o=function(){function t(n){e(this,t),this.httpClient=n}return n(t,[{key:"getBrands",value:function(){return this.httpClient.get(h.a.apiUrl+"brands")}},{key:"addBrand",value:function(e){return this.httpClient.post(h.a.apiUrl+"brands",e)}},{key:"updateBrand",value:function(e){return this.httpClient.patch(h.a.apiUrl+"brands/"+e.id,e)}},{key:"deleteBrand",value:function(e){return this.httpClient.delete(h.a.apiUrl+"brands/"+e)}}]),t}()).\u0275fac=function(e){return new(e||o)(l.ac(v.c))},o.\u0275prov=l.Jb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),g=r("OlR4"),y=r("NFeN"),w=r("Xa2L");function T(e,t){1&e&&(l.Tb(0,"mat-header-cell"),l.Lc(1," Name "),l.Sb())}function k(e,t){if(1&e&&(l.Tb(0,"mat-cell"),l.Lc(1),l.Sb()),2&e){var n=t.$implicit;l.Ab(1),l.Nc(" ",n.name," ")}}function B(e,t){1&e&&(l.Tb(0,"mat-header-cell"),l.Lc(1," Actions "),l.Sb())}function C(e,t){if(1&e){var n=l.Ub();l.Tb(0,"mat-cell"),l.Tb(1,"button",19),l.dc("click",function(){l.Bc(n);var e=t.$implicit;return l.hc().editBrand(e)}),l.Tb(2,"mat-icon"),l.Lc(3,"create"),l.Sb(),l.Sb(),l.Lc(4,"\xa0 "),l.Tb(5,"button",20),l.dc("click",function(){l.Bc(n);var e=t.$implicit,a=t.index;return l.hc().deleteBrand(e.id,a)}),l.Tb(6,"mat-icon"),l.Lc(7,"delete"),l.Sb(),l.Sb(),l.Sb()}}function L(e,t){1&e&&l.Ob(0,"mat-header-row")}function A(e,t){1&e&&l.Ob(0,"mat-row")}function N(e,t){1&e&&(l.Tb(0,"div",21),l.Lc(1," No records found "),l.Sb())}function O(e,t){1&e&&(l.Tb(0,"div",21),l.Lc(1,"Please wait...."),l.Sb())}function J(e,t){1&e&&l.Ob(0,"mat-spinner",22),2&e&&l.oc("diameter",20)}var D,I,R=function(){return[5,10,20]},M=((D=function(){function t(n,a,r,i){e(this,t),this.brandsService=n,this.commonService=a,this.cdr=r,this.dialog=i,this.displayedColumns=["name","actions"],this.brands=[],this.loaded=!1}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.brandsService.getBrands().subscribe(function(t){e.brands=t.brands,e.renderBrands(),e.loaded=!0,e.cdr.detectChanges()})}},{key:"addBrand",value:function(){var e=this;this.dialog.open(f,{width:"440px",disableClose:!0}).afterClosed().subscribe(function(t){t&&e.brandsService.addBrand(t.brand).subscribe(function(t){e.brands.push(t.brand),e.commonService.openSnackBar(t.message),e.renderBrands()},function(t){var n=t.error;e.commonService.openSnackBar(n.errors.name[0],4e3)})})}},{key:"renderBrands",value:function(){this.dataSource=new b.k(this.brands),this.dataSource.paginator=this.paginator}},{key:"editBrand",value:function(e){var t=this;this.dialog.open(f,{data:{brand:e},width:"440px",disableClose:!0}).afterClosed().subscribe(function(n){n&&t.brandsService.updateBrand(n.brand).subscribe(function(a){e=n.brand,t.commonService.openSnackBar(a.message)},function(e){var n=e.error;t.commonService.openSnackBar(n.errors.name[0],4e3)})})}},{key:"deleteBrand",value:function(e,t){var n=this;this.dialog.open(p.a,{data:{title:"Delete brand",message:"Are you sure?"},width:"440px",disableClose:!0}).afterClosed().subscribe(function(a){a&&a.confirm&&n.brandsService.deleteBrand(e).subscribe(function(e){n.brands.splice(t,1),n.renderBrands(),n.commonService.openSnackBar(e.message)},function(e){var t=e.error;n.commonService.openSnackBar(t.message,4e3)})})}}]),t}()).\u0275fac=function(e){return new(e||D)(l.Nb(S),l.Nb(g.a),l.Nb(l.h),l.Nb(s.c))},D.\u0275cmp=l.Hb({type:D,selectors:[["app-brands"]],viewQuery:function(e,t){var n;1&e&&l.Fc(d.a,!0),2&e&&l.wc(n=l.ec())&&(t.paginator=n.first)},decls:25,vars:10,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"mat-table-wrapper"],[3,"dataSource"],["table",""],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","mat-table-message",4,"ngIf"],[1,"mat-table-bottom"],[3,"diameter",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["mat-icon-button","","color","primary","matTooltip","Edit user",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete user","type","button",3,"click"],[1,"mat-table-message"],[3,"diameter"]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Tb(1,"div",1),l.Tb(2,"div",2),l.Tb(3,"h3"),l.Lc(4,"Brands"),l.Sb(),l.Sb(),l.Tb(5,"div",3),l.Tb(6,"button",4),l.dc("click",function(){return t.addBrand()}),l.Lc(7,"Add Brands"),l.Sb(),l.Sb(),l.Sb(),l.Tb(8,"div",5),l.Tb(9,"div",6),l.Tb(10,"mat-table",7,8),l.Rb(12,9),l.Jc(13,T,2,0,"mat-header-cell",10),l.Jc(14,k,2,1,"mat-cell",11),l.Qb(),l.Rb(15,12),l.Jc(16,B,2,0,"mat-header-cell",10),l.Jc(17,C,8,0,"mat-cell",11),l.Qb(),l.Jc(18,L,1,0,"mat-header-row",13),l.Jc(19,A,1,0,"mat-row",14),l.Sb(),l.Jc(20,N,2,0,"div",15),l.Jc(21,O,2,0,"div",15),l.Sb(),l.Tb(22,"div",16),l.Jc(23,J,1,1,"mat-spinner",17),l.Ob(24,"mat-paginator",18),l.Sb(),l.Sb(),l.Sb()),2&e&&(l.Ab(10),l.oc("dataSource",t.dataSource),l.Ab(8),l.oc("matHeaderRowDef",t.displayedColumns),l.Ab(1),l.oc("matRowDefColumns",t.displayedColumns),l.Ab(1),l.oc("ngIf",t.loaded&&0==t.brands.length),l.Ab(1),l.oc("ngIf",!t.loaded),l.Ab(2),l.oc("ngIf",!t.loaded),l.Ab(1),l.oc("pageSize",10)("pageSizeOptions",l.rc(9,R))("showFirstLastButtons",!0))},directives:[b.j,b.c,b.e,b.b,b.g,b.i,c.n,d.a,b.d,b.a,m.b,y.a,b.f,b.h,w.b],styles:[".mat-table-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{min-width:800px;width:100%}"]}),D),x=r("tyNb"),P=r("kmnG"),U=r("93Pz"),z=((I=function t(){e(this,t)}).\u0275mod=l.Lb({type:I}),I.\u0275inj=l.Kb({factory:function(e){return new(e||I)},imports:[[c.c,U.a,m.c,b.l,d.b,y.b,w.a,u.j,P.e,s.e,x.k.forChild([{path:"",component:M}])]]}),I)}}])}();